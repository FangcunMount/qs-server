basePath: /api/v1
definitions:
  core.Response:
    properties:
      code:
        description: Code 业务状态码，0 表示成功
        type: integer
      data:
        description: Data 响应数据
      message:
        description: Message 响应消息
        type: string
      reference:
        description: Reference 返回参考文档（错误时使用）
        type: string
    type: object
  meta.ID:
    enum:
    - 0
    format: int64
    type: integer
    x-enum-varnames:
    - ZeroID
  request.AddQuestionRequest:
    properties:
      code:
        type: string
      description:
        type: string
      options:
        items:
          $ref: '#/definitions/viewmodel.OptionDTO'
        type: array
      required:
        type: boolean
      stem:
        type: string
      type:
        type: string
    type: object
  request.ApplyCodeRequest:
    properties:
      count:
        type: integer
      kind:
        type: string
      metadata:
        additionalProperties: true
        type: object
      prefix:
        type: string
    type: object
  request.BatchEvaluateRequest:
    properties:
      assessment_ids:
        description: 测评ID列表
        items:
          type: integer
        type: array
    type: object
  request.BatchUpdateQuestionsRequest:
    properties:
      questions:
        items:
          $ref: '#/definitions/viewmodel.QuestionDTO'
        type: array
    type: object
  request.CreateQuestionnaireRequest:
    properties:
      description:
        type: string
      img_url:
        type: string
      title:
        type: string
      type:
        type: string
    type: object
  request.CreateScaleRequest:
    properties:
      description:
        type: string
      questionnaire_code:
        type: string
      questionnaire_version:
        type: string
      title:
        type: string
    type: object
  request.CreateStaffRequest:
    properties:
      email:
        description: 邮箱
        type: string
      is_active:
        description: 是否激活
        type: boolean
      name:
        description: 姓名
        type: string
      org_id:
        description: 机构ID
        type: integer
      phone:
        description: 电话
        type: string
      roles:
        description: 角色列表
        items:
          type: string
        minItems: 1
        type: array
    required:
    - name
    - org_id
    - roles
    type: object
  request.FactorInterpretRulesModel:
    properties:
      factor_code:
        type: string
      interpret_rules:
        items:
          $ref: '#/definitions/request.InterpretRuleModel'
        type: array
    type: object
  request.FactorModel:
    properties:
      code:
        type: string
      factor_type:
        type: string
      interpret_rules:
        items:
          $ref: '#/definitions/request.InterpretRuleModel'
        type: array
      is_total_score:
        type: boolean
      question_codes:
        items:
          type: string
        type: array
      scoring_params:
        additionalProperties:
          type: string
        type: object
      scoring_strategy:
        type: string
      title:
        type: string
    type: object
  request.InterpretRuleModel:
    properties:
      conclusion:
        type: string
      max_score:
        type: number
      min_score:
        type: number
      risk_level:
        type: string
      suggestion:
        type: string
    type: object
  request.ReorderQuestionsRequest:
    properties:
      question_codes:
        items:
          type: string
        type: array
    type: object
  request.ReplaceFactorsRequest:
    properties:
      factors:
        items:
          $ref: '#/definitions/request.FactorModel'
        type: array
    type: object
  request.ReplaceInterpretRulesRequest:
    properties:
      factor_rules:
        items:
          $ref: '#/definitions/request.FactorInterpretRulesModel'
        type: array
    type: object
  request.UpdateQuestionRequest:
    properties:
      code:
        type: string
      description:
        type: string
      options:
        items:
          $ref: '#/definitions/viewmodel.OptionDTO'
        type: array
      required:
        type: boolean
      stem:
        type: string
      type:
        type: string
    type: object
  request.UpdateQuestionnaireBasicInfoRequest:
    properties:
      description:
        type: string
      img_url:
        type: string
      title:
        type: string
      type:
        type: string
    type: object
  request.UpdateScaleBasicInfoRequest:
    properties:
      description:
        type: string
      title:
        type: string
    type: object
  request.UpdateScaleQuestionnaireRequest:
    properties:
      questionnaire_code:
        type: string
      questionnaire_version:
        type: string
    type: object
  request.UpdateTesteeRequest:
    properties:
      birthday:
        description: 出生日期
        type: string
      gender:
        description: 性别
        type: string
      is_key_focus:
        description: 是否重点关注
        type: boolean
      name:
        description: 姓名
        type: string
      tags:
        description: 标签
        items:
          type: string
        type: array
    type: object
  response.AnswerSheetListResponse:
    properties:
      items:
        items:
          $ref: '#/definitions/response.AnswerSheetSummaryItem'
        type: array
      total:
        type: integer
    type: object
  response.AnswerSheetResponse:
    properties:
      answers:
        items:
          $ref: '#/definitions/viewmodel.AnswerDTO'
        type: array
      filled_at:
        type: string
      filler_id:
        $ref: '#/definitions/meta.ID'
      filler_name:
        type: string
      id:
        $ref: '#/definitions/meta.ID'
      questionnaire_code:
        type: string
      questionnaire_ver:
        type: string
      score:
        type: number
      title:
        type: string
    type: object
  response.AnswerSheetStatisticsResponse:
    properties:
      average_score:
        type: number
      max_score:
        type: number
      min_score:
        type: number
      questionnaire_code:
        type: string
      total_count:
        type: integer
    type: object
  response.AnswerSheetSummaryItem:
    properties:
      filled_at:
        type: string
      filler_id:
        $ref: '#/definitions/meta.ID'
      id:
        $ref: '#/definitions/meta.ID'
      questionnaire_code:
        type: string
      questionnaire_ver:
        type: string
      score:
        type: number
      title:
        type: string
    type: object
  response.ApplyCodeResponse:
    properties:
      codes:
        items:
          type: string
        type: array
      count:
        type: integer
    type: object
  response.AssessmentListResponse:
    properties:
      items:
        description: 测评列表
        items:
          $ref: '#/definitions/response.AssessmentResponse'
        type: array
      page:
        description: 当前页
        type: integer
      page_size:
        description: 每页数量
        type: integer
      total:
        description: 总数
        type: integer
      total_pages:
        description: 总页数
        type: integer
    type: object
  response.AssessmentResponse:
    properties:
      answer_sheet_id:
        description: 答卷ID
        type: string
      failed_at:
        type: string
      failure_reason:
        type: string
      id:
        description: 测评ID
        type: string
      interpreted_at:
        type: string
      medical_scale_code:
        description: 量表编码
        type: string
      medical_scale_id:
        description: 量表ID
        type: string
      medical_scale_name:
        description: 量表名称
        type: string
      org_id:
        description: 组织ID
        type: string
      origin_id:
        description: 来源ID
        type: string
      origin_type:
        description: 来源类型
        type: string
      questionnaire_code:
        description: 问卷编码（唯一标识）
        type: string
      questionnaire_version:
        description: 问卷版本
        type: string
      risk_level:
        description: 风险等级
        type: string
      status:
        description: 状态
        type: string
      submitted_at:
        description: 提交时间
        type: string
      testee_id:
        description: 受试者ID
        type: string
      total_score:
        description: 总分
        type: number
    type: object
  response.AssessmentStatisticsResponse:
    properties:
      average_score:
        description: 平均分
        type: number
      failed_count:
        description: 失败数
        type: integer
      interpreted_count:
        description: 已解读数
        type: integer
      pending_count:
        description: 待提交数
        type: integer
      risk_distribution:
        additionalProperties:
          type: integer
        description: 风险等级分布
        type: object
      scale_stats:
        description: 按量表统计
        items:
          $ref: '#/definitions/response.ScaleStatResponse'
        type: array
      submitted_count:
        description: 已提交数
        type: integer
      total_count:
        description: 总测评数
        type: integer
    type: object
  response.AssessmentStatsResponse:
    properties:
      last_assessment_at:
        description: 最后测评时间
        type: string
      last_risk_level:
        description: 最后风险等级
        type: string
      total_count:
        description: 总次数
        type: integer
    type: object
  response.BatchEvaluationResponse:
    properties:
      failed_count:
        description: 失败数
        type: integer
      failed_ids:
        description: 失败的测评ID列表
        items:
          type: string
        type: array
      success_count:
        description: 成功数
        type: integer
      total_count:
        description: 总数
        type: integer
    type: object
  response.DimensionItem:
    properties:
      description:
        description: 解读描述
        type: string
      factor_code:
        description: 因子编码
        type: string
      factor_name:
        description: 因子名称
        type: string
      raw_score:
        description: 原始分
        type: number
      risk_level:
        description: 风险等级
        type: string
    type: object
  response.FactorResponse:
    properties:
      code:
        type: string
      factor_type:
        type: string
      interpret_rules:
        items:
          $ref: '#/definitions/response.InterpretRuleResponse'
        type: array
      is_total_score:
        type: boolean
      question_codes:
        items:
          type: string
        type: array
      scoring_params:
        additionalProperties:
          type: string
        type: object
      scoring_strategy:
        type: string
      title:
        type: string
    type: object
  response.FactorScoreItem:
    properties:
      conclusion:
        description: 结论
        type: string
      factor_code:
        description: 因子编码
        type: string
      factor_name:
        description: 因子名称
        type: string
      is_total_score:
        description: 是否为总分因子
        type: boolean
      raw_score:
        description: 原始分
        type: number
      risk_level:
        description: 风险等级
        type: string
      suggestion:
        description: 建议
        type: string
    type: object
  response.FactorTrendResponse:
    properties:
      data_points:
        description: 数据点列表
        items:
          $ref: '#/definitions/response.TrendDataPoint'
        type: array
      factor_code:
        description: 因子编码
        type: string
      factor_name:
        description: 因子名称
        type: string
      testee_id:
        description: 受试者ID
        type: string
    type: object
  response.GuardianResponse:
    properties:
      name:
        type: string
      phone:
        type: string
      relation:
        type: string
    type: object
  response.HighRiskFactorsResponse:
    properties:
      assessment_id:
        description: 测评ID
        type: string
      has_high_risk:
        description: 是否存在高风险
        type: boolean
      high_risk_factors:
        description: 高风险因子列表
        items:
          $ref: '#/definitions/response.FactorScoreItem'
        type: array
      needs_urgent_care:
        description: 是否需要紧急关注
        type: boolean
    type: object
  response.InterpretRuleResponse:
    properties:
      conclusion:
        type: string
      max_score:
        type: number
      min_score:
        type: number
      risk_level:
        type: string
      suggestion:
        type: string
    type: object
  response.PeriodicProjectResponse:
    properties:
      completed_weeks:
        description: 已完成周数
        type: integer
      completion_rate:
        description: 完成率（0-100）
        type: number
      current_week:
        description: 当前应该完成的周次
        type: integer
      end_date:
        description: 项目结束日期
        type: string
      project_id:
        description: 项目ID
        type: string
      project_name:
        description: 项目名称
        type: string
      scale_name:
        description: 关联的量表名称
        type: string
      start_date:
        description: 项目开始日期
        type: string
      tasks:
        description: 各周任务状态（按周次升序排列）
        items:
          $ref: '#/definitions/response.PeriodicTaskResponse'
        type: array
      total_weeks:
        description: 总周数
        type: integer
    type: object
  response.PeriodicStatsResponse:
    properties:
      active_projects:
        description: 进行中的项目数
        type: integer
      projects:
        description: 周期性项目列表
        items:
          $ref: '#/definitions/response.PeriodicProjectResponse'
        type: array
      total_projects:
        description: 项目总数
        type: integer
    type: object
  response.PeriodicTaskResponse:
    properties:
      assessment_id:
        description: 关联的测评ID（如已完成）
        type: string
      completed_at:
        description: 完成时间
        type: string
      due_date:
        description: 截止时间
        type: string
      status:
        description: 状态：completed/pending/overdue
        type: string
      week:
        description: 第几周（从1开始）
        type: integer
    type: object
  response.QuestionnaireListResponse:
    properties:
      page:
        type: integer
      page_size:
        type: integer
      questionnaires:
        items:
          $ref: '#/definitions/response.QuestionnaireResponse'
        type: array
      total_count:
        type: integer
    type: object
  response.QuestionnaireResponse:
    properties:
      code:
        type: string
      description:
        type: string
      img_url:
        type: string
      questions:
        items:
          $ref: '#/definitions/viewmodel.QuestionDTO'
        type: array
      status:
        type: string
      title:
        type: string
      type:
        type: string
      version:
        type: string
    type: object
  response.ReportListResponse:
    properties:
      items:
        description: 报告列表
        items:
          $ref: '#/definitions/response.ReportResponse'
        type: array
      page:
        description: 当前页
        type: integer
      page_size:
        description: 每页数量
        type: integer
      total:
        description: 总数
        type: integer
      total_pages:
        description: 总页数
        type: integer
    type: object
  response.ReportResponse:
    properties:
      assessment_id:
        description: 测评ID
        type: string
      conclusion:
        description: 总结论
        type: string
      created_at:
        description: 创建时间
        type: string
      dimensions:
        description: 维度解读列表
        items:
          $ref: '#/definitions/response.DimensionItem'
        type: array
      risk_level:
        description: 风险等级
        type: string
      scale_code:
        description: 量表编码
        type: string
      scale_name:
        description: 量表名称
        type: string
      suggestions:
        description: 建议列表
        items:
          type: string
        type: array
      total_score:
        description: 总分
        type: number
    type: object
  response.ScaleAnalysisResponse:
    properties:
      scales:
        description: 量表趋势列表
        items:
          $ref: '#/definitions/response.ScaleTrendResponse'
        type: array
    type: object
  response.ScaleFactorResponse:
    properties:
      factor_code:
        description: 因子编码
        type: string
      factor_name:
        description: 因子名称
        type: string
      percentile:
        description: 百分位
        type: number
      raw_score:
        description: 原始分
        type: number
      risk_level:
        description: 风险等级：normal/medium/high
        type: string
      t_score:
        description: T分
        type: number
    type: object
  response.ScaleListResponse:
    properties:
      page:
        type: integer
      page_size:
        type: integer
      scales:
        items:
          $ref: '#/definitions/response.ScaleResponse'
        type: array
      total_count:
        type: integer
    type: object
  response.ScaleResponse:
    properties:
      code:
        type: string
      description:
        type: string
      factors:
        items:
          $ref: '#/definitions/response.FactorResponse'
        type: array
      questionnaire_code:
        type: string
      questionnaire_version:
        type: string
      status:
        type: string
      title:
        type: string
    type: object
  response.ScaleStatResponse:
    properties:
      average_score:
        description: 平均分
        type: number
      count:
        description: 测评数
        type: integer
      scale_code:
        description: 量表编码
        type: string
      scale_name:
        description: 量表名称
        type: string
    type: object
  response.ScaleTestResponse:
    properties:
      assessment_id:
        description: 测评ID
        type: string
      factors:
        description: 各因子得分
        items:
          $ref: '#/definitions/response.ScaleFactorResponse'
        type: array
      result:
        description: 结果描述，如："轻度焦虑"
        type: string
      risk_level:
        description: 风险等级：normal/medium/high
        type: string
      test_date:
        description: 测评日期
        type: string
      total_score:
        description: 总分
        type: number
    type: object
  response.ScaleTrendResponse:
    properties:
      scale_code:
        description: 量表编码
        type: string
      scale_id:
        description: 量表ID
        type: string
      scale_name:
        description: 量表名称
        type: string
      tests:
        description: 测评历史记录（按时间升序排列）
        items:
          $ref: '#/definitions/response.ScaleTestResponse'
        type: array
    type: object
  response.ScoreResponse:
    properties:
      assessment_id:
        description: 测评ID
        type: string
      factor_scores:
        description: 因子得分列表
        items:
          $ref: '#/definitions/response.FactorScoreItem'
        type: array
      risk_level:
        description: 整体风险等级
        type: string
      total_score:
        description: 总分
        type: number
    type: object
  response.StaffListResponse:
    properties:
      items:
        description: 列表数据
        items:
          $ref: '#/definitions/response.StaffResponse'
        type: array
      page:
        description: 当前页码
        type: integer
      page_size:
        description: 每页数量
        type: integer
      total:
        description: 总数
        type: integer
      total_pages:
        description: 总页数
        type: integer
    type: object
  response.StaffResponse:
    properties:
      created_at:
        description: 创建时间
        type: string
      email:
        description: 邮箱
        type: string
      id:
        description: ID
        type: string
      is_active:
        description: 是否激活
        type: boolean
      name:
        description: 姓名
        type: string
      org_id:
        description: 机构ID
        type: string
      phone:
        description: 电话
        type: string
      roles:
        description: 角色列表
        items:
          type: string
        type: array
      updated_at:
        description: 更新时间
        type: string
      user_id:
        description: 用户ID
        type: string
    type: object
  response.TesteeListResponse:
    properties:
      items:
        description: 列表数据
        items:
          $ref: '#/definitions/response.TesteeResponse'
        type: array
      page:
        description: 当前页码
        type: integer
      page_size:
        description: 每页数量
        type: integer
      total:
        description: 总数
        type: integer
      total_pages:
        description: 总页数
        type: integer
    type: object
  response.TesteeResponse:
    properties:
      assessment_stats:
        allOf:
        - $ref: '#/definitions/response.AssessmentStatsResponse'
        description: 测评统计
      birthday:
        description: 出生日期
        type: string
      created_at:
        description: 创建时间
        type: string
      gender:
        description: 性别
        type: string
      guardians:
        description: 监护人信息列表
        items:
          $ref: '#/definitions/response.GuardianResponse'
        type: array
      iam_child_id:
        description: IAM儿童ID（已废弃，向后兼容，等同于ProfileID）
        type: string
      id:
        description: ID
        type: string
      is_key_focus:
        description: 是否重点关注
        type: boolean
      name:
        description: 姓名
        type: string
      org_id:
        description: 机构ID
        type: string
      profile_id:
        description: 用户档案ID（新字段）
        type: string
      source:
        description: 来源
        type: string
      tags:
        description: 标签
        items:
          type: string
        type: array
      updated_at:
        description: 更新时间
        type: string
    type: object
  response.TrendDataPoint:
    properties:
      assessment_id:
        description: 测评ID
        type: string
      raw_score:
        description: 得分
        type: number
      risk_level:
        description: 风险等级
        type: string
    type: object
  viewmodel.AnswerDTO:
    properties:
      question_code:
        type: string
      question_type:
        type: string
      score:
        type: number
      value: {}
    type: object
  viewmodel.CalculationRuleDTO:
    properties:
      formula_type:
        description: 公式类型
        type: string
    type: object
  viewmodel.OptionDTO:
    properties:
      code:
        description: 选项ID，仅更新/编辑时提供
        type: string
      content:
        description: 选项内容
        type: string
      score:
        description: 选项分数（支持小数）
        type: number
    type: object
  viewmodel.QuestionDTO:
    properties:
      calculation_rule:
        allOf:
        - $ref: '#/definitions/viewmodel.CalculationRuleDTO'
        description: 问题算分规则（可选项，结构化题型）
      code:
        description: 问题ID，仅更新/编辑时提供
        type: string
      options:
        description: 问题选项（可选项，结构化题型）
        items:
          $ref: '#/definitions/viewmodel.OptionDTO'
        type: array
      placeholder:
        description: 特定属性
        type: string
      question_type:
        description: 问题题型：single_choice, multi_choice, text 等
        type: string
      show_controller:
        allOf:
        - $ref: '#/definitions/viewmodel.ShowControllerDTO'
        description: 显示控制器（可选项）
      stem:
        description: 问题题干
        type: string
      tips:
        description: 问题提示
        type: string
      validation_rules:
        description: 能力属性
        items:
          $ref: '#/definitions/viewmodel.ValidationRuleDTO'
        type: array
    type: object
  viewmodel.ShowControllerConditionDTO:
    properties:
      code:
        description: 问题编码
        type: string
      select_option_codes:
        description: 选中的选项编码列表
        items:
          type: string
        type: array
    type: object
  viewmodel.ShowControllerDTO:
    properties:
      questions:
        description: 条件问题列表
        items:
          $ref: '#/definitions/viewmodel.ShowControllerConditionDTO'
        type: array
      rule:
        description: 逻辑规则：and 或 or
        type: string
    type: object
  viewmodel.ValidationRuleDTO:
    properties:
      rule_type:
        description: 规则类型
        type: string
      target_value:
        description: 目标值
        type: string
    type: object
info:
  contact: {}
  description: Questionnaire Scale API server (REST & gRPC)
  title: QS API Server
  version: "1.0"
paths:
  /api/v1/answersheets:
    get:
      consumes:
      - application/json
      description: 管理员查询答卷列表，支持多维度筛选
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 问卷编码
        in: query
        name: questionnaire_code
        type: string
      - description: 填写人ID
        in: query
        name: filler_id
        type: string
      - description: 开始时间
        in: query
        name: start_time
        type: string
      - description: 结束时间
        in: query
        name: end_time
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.AnswerSheetListResponse'
              type: object
      summary: 查询答卷列表
      tags:
      - AnswerSheet-Management
  /api/v1/answersheets/{id}:
    get:
      consumes:
      - application/json
      description: 管理员查看答卷的完整信息
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 答卷ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.AnswerSheetResponse'
              type: object
      summary: 获取答卷详情
      tags:
      - AnswerSheet-Management
  /api/v1/answersheets/statistics:
    get:
      consumes:
      - application/json
      description: 管理员查看某问卷的答卷统计数据
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 问卷编码
        in: query
        name: code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.AnswerSheetStatisticsResponse'
              type: object
      summary: 获取答卷统计
      tags:
      - AnswerSheet-Management
  /api/v1/codes/apply:
    post:
      consumes:
      - application/json
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        type: string
      - description: 申请请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/request.ApplyCodeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.ApplyCodeResponse'
              type: object
      summary: 申请唯一 code
      tags:
      - 系统
  /api/v1/evaluations/assessments:
    get:
      description: 分页查询测评列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 状态筛选
        in: query
        name: status
        type: string
      - description: 受试者ID筛选
        in: query
        name: testee_id
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.AssessmentListResponse'
              type: object
      summary: 查询测评列表
      tags:
      - Evaluation-Assessment
  /api/v1/evaluations/assessments/{id}:
    get:
      description: 根据ID获取测评详细信息
      parameters:
      - description: 测评ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.AssessmentResponse'
              type: object
      summary: 获取测评详情
      tags:
      - Evaluation-Assessment
  /api/v1/evaluations/assessments/{id}/high-risk-factors:
    get:
      description: 获取指定测评的高风险因子列表
      parameters:
      - description: 测评ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.HighRiskFactorsResponse'
              type: object
      summary: 获取高风险因子
      tags:
      - Evaluation-Score
  /api/v1/evaluations/assessments/{id}/report:
    get:
      description: 获取指定测评的解读报告
      parameters:
      - description: 测评ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.ReportResponse'
              type: object
      summary: 获取测评报告
      tags:
      - Evaluation-Report
  /api/v1/evaluations/assessments/{id}/retry:
    post:
      description: 重试指定测评的评估流程
      parameters:
      - description: 测评ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.AssessmentResponse'
              type: object
      summary: 重试失败的测评
      tags:
      - Evaluation-Admin
  /api/v1/evaluations/assessments/{id}/scores:
    get:
      description: 获取指定测评的得分详情
      parameters:
      - description: 测评ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.ScoreResponse'
              type: object
      summary: 获取测评得分
      tags:
      - Evaluation-Score
  /api/v1/evaluations/assessments/statistics:
    get:
      description: 获取指定时间范围内的测评统计数据
      parameters:
      - description: 开始时间（格式：2006-01-02）
        in: query
        name: start_time
        type: string
      - description: 结束时间（格式：2006-01-02）
        in: query
        name: end_time
        type: string
      - description: 量表编码筛选
        in: query
        name: scale_code
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.AssessmentStatisticsResponse'
              type: object
      summary: 获取测评统计数据
      tags:
      - Evaluation-Assessment
  /api/v1/evaluations/batch-evaluate:
    post:
      consumes:
      - application/json
      description: 批量执行测评评估（管理员/Worker使用）
      parameters:
      - description: 批量评估请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/request.BatchEvaluateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.BatchEvaluationResponse'
              type: object
      summary: 批量评估
      tags:
      - Evaluation-Admin
  /api/v1/evaluations/reports:
    get:
      description: 查询指定受试者的报告列表
      parameters:
      - description: 受试者ID
        in: query
        name: testee_id
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.ReportListResponse'
              type: object
      summary: 查询报告列表
      tags:
      - Evaluation-Report
  /api/v1/evaluations/scores/trend:
    get:
      description: 获取指定受试者某因子的历史得分趋势
      parameters:
      - description: 受试者ID
        in: query
        name: testee_id
        required: true
        type: string
      - description: 因子编码
        in: query
        name: factor_code
        required: true
        type: string
      - default: 10
        description: 返回记录数限制
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.FactorTrendResponse'
              type: object
      summary: 获取因子趋势
      tags:
      - Evaluation-Score
  /api/v1/public/questionnaires:
    get:
      consumes:
      - application/json
      description: 分页查询已发布的问卷列表（C端答题使用）
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.QuestionnaireListResponse'
              type: object
      summary: 查询已发布问卷列表
      tags:
      - Questionnaire-Query
  /api/v1/public/questionnaires/{code}:
    get:
      consumes:
      - application/json
      description: 根据编码获取已发布的问卷（C端答题使用）
      parameters:
      - description: 问卷编码
        in: path
        name: code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.QuestionnaireResponse'
              type: object
      summary: 获取已发布问卷
      tags:
      - Questionnaire-Query
  /api/v1/questionnaires:
    get:
      consumes:
      - application/json
      description: 分页查询问卷列表，支持条件筛选（管理端使用）
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 状态筛选
        in: query
        name: status
        type: string
      - description: 标题筛选
        in: query
        name: title
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.QuestionnaireListResponse'
              type: object
      summary: 查询问卷列表
      tags:
      - Questionnaire-Query
    post:
      consumes:
      - application/json
      description: 创建新问卷，初始状态为草稿
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 创建问卷请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/request.CreateQuestionnaireRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.QuestionnaireResponse'
              type: object
      summary: 创建问卷
      tags:
      - Questionnaire-Lifecycle
  /api/v1/questionnaires/{code}:
    delete:
      consumes:
      - application/json
      description: 删除草稿状态的问卷
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 问卷编码
        in: path
        name: code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/core.Response'
      summary: 删除问卷
      tags:
      - Questionnaire-Lifecycle
    get:
      consumes:
      - application/json
      description: 根据编码获取问卷的完整信息（管理端使用）
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 问卷编码
        in: path
        name: code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.QuestionnaireResponse'
              type: object
      summary: 获取问卷详情
      tags:
      - Questionnaire-Query
  /api/v1/questionnaires/{code}/archive:
    post:
      consumes:
      - application/json
      description: 归档不再使用的问卷
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 问卷编码
        in: path
        name: code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.QuestionnaireResponse'
              type: object
      summary: 归档问卷
      tags:
      - Questionnaire-Lifecycle
  /api/v1/questionnaires/{code}/basic-info:
    put:
      consumes:
      - application/json
      description: 更新问卷的标题、描述、封面图
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 问卷编码
        in: path
        name: code
        required: true
        type: string
      - description: 更新请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/request.UpdateQuestionnaireBasicInfoRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.QuestionnaireResponse'
              type: object
      summary: 更新问卷基本信息
      tags:
      - Questionnaire-Lifecycle
  /api/v1/questionnaires/{code}/draft:
    post:
      consumes:
      - application/json
      description: 保存问卷为草稿状态，小版本号递增
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 问卷编码
        in: path
        name: code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.QuestionnaireResponse'
              type: object
      summary: 保存草稿
      tags:
      - Questionnaire-Lifecycle
  /api/v1/questionnaires/{code}/publish:
    post:
      consumes:
      - application/json
      description: 发布问卷使其可用，大版本号递增
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 问卷编码
        in: path
        name: code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.QuestionnaireResponse'
              type: object
      summary: 发布问卷
      tags:
      - Questionnaire-Lifecycle
  /api/v1/questionnaires/{code}/questions:
    post:
      consumes:
      - application/json
      description: 向问卷添加新问题
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 问卷编码
        in: path
        name: code
        required: true
        type: string
      - description: 添加问题请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/request.AddQuestionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.QuestionnaireResponse'
              type: object
      summary: 添加问题
      tags:
      - Questionnaire-Content
  /api/v1/questionnaires/{code}/questions/{questionCode}:
    delete:
      consumes:
      - application/json
      description: 从问卷中删除某个问题
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 问卷编码
        in: path
        name: code
        required: true
        type: string
      - description: 问题编码
        in: path
        name: questionCode
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.QuestionnaireResponse'
              type: object
      summary: 删除问题
      tags:
      - Questionnaire-Content
    put:
      consumes:
      - application/json
      description: 更新问卷中的某个问题
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 问卷编码
        in: path
        name: code
        required: true
        type: string
      - description: 问题编码
        in: path
        name: questionCode
        required: true
        type: string
      - description: 更新问题请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/request.UpdateQuestionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.QuestionnaireResponse'
              type: object
      summary: 更新问题
      tags:
      - Questionnaire-Content
  /api/v1/questionnaires/{code}/questions/batch:
    put:
      consumes:
      - application/json
      description: 批量更新问卷的所有问题（前端保存时使用）
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 问卷编码
        in: path
        name: code
        required: true
        type: string
      - description: 批量更新请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/request.BatchUpdateQuestionsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.QuestionnaireResponse'
              type: object
      summary: 批量更新问题
      tags:
      - Questionnaire-Content
  /api/v1/questionnaires/{code}/questions/reorder:
    post:
      consumes:
      - application/json
      description: 调整问卷中问题的显示顺序
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 问卷编码
        in: path
        name: code
        required: true
        type: string
      - description: 重排问题请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/request.ReorderQuestionsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.QuestionnaireResponse'
              type: object
      summary: 重排问题顺序
      tags:
      - Questionnaire-Content
  /api/v1/questionnaires/{code}/unpublish:
    post:
      consumes:
      - application/json
      description: 将已发布的问卷下架
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 问卷编码
        in: path
        name: code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.QuestionnaireResponse'
              type: object
      summary: 下架问卷
      tags:
      - Questionnaire-Lifecycle
  /api/v1/scales:
    get:
      consumes:
      - application/json
      description: 分页获取量表列表
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 页码
        in: query
        name: page
        required: true
        type: integer
      - description: 每页数量
        in: query
        name: page_size
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.ScaleListResponse'
              type: object
      summary: 获取量表列表
      tags:
      - Scale-Query
    post:
      consumes:
      - application/json
      description: 创建新量表，初始状态为草稿
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 创建量表请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/request.CreateScaleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.ScaleResponse'
              type: object
      summary: 创建量表
      tags:
      - Scale-Lifecycle
  /api/v1/scales/{code}:
    delete:
      consumes:
      - application/json
      description: 删除草稿状态的量表
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 量表编码
        in: path
        name: code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/core.Response'
      summary: 删除量表
      tags:
      - Scale-Lifecycle
    get:
      consumes:
      - application/json
      description: 根据编码获取量表详情
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 量表编码
        in: path
        name: code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.ScaleResponse'
              type: object
      summary: 获取量表详情
      tags:
      - Scale-Query
  /api/v1/scales/{code}/archive:
    post:
      consumes:
      - application/json
      description: 归档量表
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 量表编码
        in: path
        name: code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.ScaleResponse'
              type: object
      summary: 归档量表
      tags:
      - Scale-Lifecycle
  /api/v1/scales/{code}/basic-info:
    put:
      consumes:
      - application/json
      description: 更新量表的标题、描述
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 量表编码
        in: path
        name: code
        required: true
        type: string
      - description: 更新请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/request.UpdateScaleBasicInfoRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.ScaleResponse'
              type: object
      summary: 更新量表基本信息
      tags:
      - Scale-Lifecycle
  /api/v1/scales/{code}/factors:
    put:
      consumes:
      - application/json
      description: 批量替换量表中的所有因子
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 量表编码
        in: path
        name: code
        required: true
        type: string
      - description: 替换因子请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/request.ReplaceFactorsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.ScaleResponse'
              type: object
      summary: 批量替换因子
      tags:
      - Scale-Factor
  /api/v1/scales/{code}/interpret-rules:
    put:
      consumes:
      - application/json
      description: 批量设置量表所有因子的解读规则
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 量表编码
        in: path
        name: code
        required: true
        type: string
      - description: 设置解读规则请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/request.ReplaceInterpretRulesRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.ScaleResponse'
              type: object
      summary: 批量设置解读规则
      tags:
      - Scale-Factor
  /api/v1/scales/{code}/publish:
    post:
      consumes:
      - application/json
      description: 发布量表使其可用
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 量表编码
        in: path
        name: code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.ScaleResponse'
              type: object
      summary: 发布量表
      tags:
      - Scale-Lifecycle
  /api/v1/scales/{code}/questionnaire:
    put:
      consumes:
      - application/json
      description: 更新量表关联的问卷编码和版本
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 量表编码
        in: path
        name: code
        required: true
        type: string
      - description: 更新请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/request.UpdateScaleQuestionnaireRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.ScaleResponse'
              type: object
      summary: 更新关联的问卷
      tags:
      - Scale-Lifecycle
  /api/v1/scales/{code}/unpublish:
    post:
      consumes:
      - application/json
      description: 下架量表使其不可用
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 量表编码
        in: path
        name: code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.ScaleResponse'
              type: object
      summary: 下架量表
      tags:
      - Scale-Lifecycle
  /api/v1/scales/by-questionnaire:
    get:
      consumes:
      - application/json
      description: 根据关联的问卷编码获取量表
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 问卷编码
        in: query
        name: questionnaireCode
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.ScaleResponse'
              type: object
      summary: 根据问卷编码获取量表
      tags:
      - Scale-Query
  /api/v1/scales/published:
    get:
      consumes:
      - application/json
      description: 分页获取已发布的量表列表
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 页码
        in: query
        name: page
        required: true
        type: integer
      - description: 每页数量
        in: query
        name: page_size
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.ScaleListResponse'
              type: object
      summary: 获取已发布量表列表
      tags:
      - Scale-Query
  /api/v1/scales/published/{code}:
    get:
      consumes:
      - application/json
      description: 根据编码获取已发布的量表
      parameters:
      - description: Bearer 用户令牌
        in: header
        name: Authorization
        required: true
        type: string
      - description: 量表编码
        in: path
        name: code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.ScaleResponse'
              type: object
      summary: 获取已发布的量表
      tags:
      - Scale-Query
  /api/v1/staff:
    get:
      parameters:
      - description: 机构ID
        in: query
        name: org_id
        required: true
        type: string
      - description: 角色筛选
        in: query
        name: role
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.StaffListResponse'
              type: object
      summary: 查询员工列表
      tags:
      - Actor
    post:
      consumes:
      - application/json
      parameters:
      - description: 创建员工请求
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/request.CreateStaffRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.StaffResponse'
              type: object
      summary: 创建员工
      tags:
      - Actor
  /api/v1/staff/{id}:
    delete:
      parameters:
      - description: 员工ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/core.Response'
      summary: 删除员工
      tags:
      - Actor
    get:
      parameters:
      - description: 员工ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.StaffResponse'
              type: object
      summary: 获取员工详情
      tags:
      - Actor
  /api/v1/testees:
    get:
      parameters:
      - description: 机构ID
        in: query
        name: org_id
        required: true
        type: string
      - description: 姓名（模糊匹配）
        in: query
        name: name
        type: string
      - description: 是否重点关注
        in: query
        name: is_key_focus
        type: boolean
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.TesteeListResponse'
              type: object
      summary: 查询受试者列表
      tags:
      - Actor
  /api/v1/testees/{id}:
    get:
      parameters:
      - description: 受试者ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.TesteeResponse'
              type: object
      summary: 获取受试者详情
      tags:
      - Actor
    put:
      consumes:
      - application/json
      parameters:
      - description: 受试者ID
        in: path
        name: id
        required: true
        type: string
      - description: 更新受试者请求
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/request.UpdateTesteeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.TesteeResponse'
              type: object
      summary: 更新受试者
      tags:
      - Actor
  /api/v1/testees/{id}/periodic-stats:
    get:
      parameters:
      - description: Testee ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.PeriodicStatsResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/core.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/core.Response'
      summary: 获取受试者周期统计
      tags:
      - Testee
  /api/v1/testees/{id}/scale-analysis:
    get:
      parameters:
      - description: Testee ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/core.Response'
            - properties:
                data:
                  $ref: '#/definitions/response.ScaleAnalysisResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/core.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/core.Response'
      summary: 获取受试者量表分析结果
      tags:
      - Testee
  /health:
    get:
      description: 检查 API Server 健康状态
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: 健康检查
      tags:
      - 系统
  /ping:
    get:
      description: 测试 API Server 连通性
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: Ping
      tags:
      - 系统
schemes:
- http
- https
swagger: "2.0"
