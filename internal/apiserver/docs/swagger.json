{
    "schemes": [
        "http",
        "https"
    ],
    "swagger": "2.0",
    "info": {
        "description": "Questionnaire Scale API server (REST \u0026 gRPC)",
        "title": "QS API Server",
        "contact": {},
        "version": "1.0"
    },
    "basePath": "/api/v1",
    "paths": {
        "/api/v1/answersheets": {
            "get": {
                "description": "管理员查询答卷列表，支持多维度筛选",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "AnswerSheet-Management"
                ],
                "summary": "查询答卷列表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "default": 1,
                        "description": "页码",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 10,
                        "description": "每页数量",
                        "name": "page_size",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "问卷编码",
                        "name": "questionnaire_code",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "填写人ID",
                        "name": "filler_id",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "开始时间",
                        "name": "start_time",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "结束时间",
                        "name": "end_time",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.AnswerSheetListResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/answersheets/statistics": {
            "get": {
                "description": "管理员查看某问卷的答卷统计数据",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "AnswerSheet-Management"
                ],
                "summary": "获取答卷统计",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "问卷编码",
                        "name": "code",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.AnswerSheetStatisticsResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/answersheets/{id}": {
            "get": {
                "description": "管理员查看答卷的完整信息",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "AnswerSheet-Management"
                ],
                "summary": "获取答卷详情",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "答卷ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.AnswerSheetResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/codes/apply": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "系统"
                ],
                "summary": "申请唯一 code",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header"
                    },
                    {
                        "description": "申请请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/request.ApplyCodeRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.ApplyCodeResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/evaluations/assessments": {
            "get": {
                "description": "分页查询测评列表",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Evaluation-Assessment"
                ],
                "summary": "查询测评列表",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 1,
                        "description": "页码",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 10,
                        "description": "每页数量",
                        "name": "page_size",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "状态筛选",
                        "name": "status",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "受试者ID筛选",
                        "name": "testee_id",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.AssessmentListResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/evaluations/assessments/statistics": {
            "get": {
                "description": "获取指定时间范围内的测评统计数据",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Evaluation-Assessment"
                ],
                "summary": "获取测评统计数据",
                "parameters": [
                    {
                        "type": "string",
                        "description": "开始时间（格式：2006-01-02）",
                        "name": "start_time",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "结束时间（格式：2006-01-02）",
                        "name": "end_time",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "量表编码筛选",
                        "name": "scale_code",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.AssessmentStatisticsResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/evaluations/assessments/{id}": {
            "get": {
                "description": "根据ID获取测评详细信息",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Evaluation-Assessment"
                ],
                "summary": "获取测评详情",
                "parameters": [
                    {
                        "type": "string",
                        "description": "测评ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.AssessmentResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/evaluations/assessments/{id}/high-risk-factors": {
            "get": {
                "description": "获取指定测评的高风险因子列表",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Evaluation-Score"
                ],
                "summary": "获取高风险因子",
                "parameters": [
                    {
                        "type": "string",
                        "description": "测评ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.HighRiskFactorsResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/evaluations/assessments/{id}/report": {
            "get": {
                "description": "获取指定测评的解读报告。响应字段说明：\n- dimensions（维度列表）：每个维度包含 factor_code（因子编码）、factor_name（因子名称）、raw_score（原始分）、max_score（最大分，可选）、risk_level（风险等级）、description（解读描述）、suggestion（维度建议，字符串）字段\n- suggestions（建议列表）：报告级别的建议列表，每个建议包含 category（分类）、content（内容）、factor_code（关联因子编码，可选）字段",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Evaluation-Report"
                ],
                "summary": "获取测评报告",
                "parameters": [
                    {
                        "type": "string",
                        "description": "测评ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.ReportResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/evaluations/assessments/{id}/retry": {
            "post": {
                "description": "重试指定测评的评估流程",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Evaluation-Admin"
                ],
                "summary": "重试失败的测评",
                "parameters": [
                    {
                        "type": "string",
                        "description": "测评ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.AssessmentResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/evaluations/assessments/{id}/scores": {
            "get": {
                "description": "获取指定测评的得分详情。响应中的 factor_scores 包含每个因子的得分信息，其中 max_score 为因子的最大分（可选）",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Evaluation-Score"
                ],
                "summary": "获取测评得分",
                "parameters": [
                    {
                        "type": "string",
                        "description": "测评ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.ScoreResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/evaluations/batch-evaluate": {
            "post": {
                "description": "批量执行测评评估（管理员/Worker使用）",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Evaluation-Admin"
                ],
                "summary": "批量评估",
                "parameters": [
                    {
                        "description": "批量评估请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/request.BatchEvaluateRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.BatchEvaluationResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/evaluations/reports": {
            "get": {
                "description": "查询指定受试者的报告列表。每个报告包含 dimensions（维度列表）和 suggestions（建议列表），维度中的 suggestion 字段为字符串类型",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Evaluation-Report"
                ],
                "summary": "查询报告列表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "受试者ID",
                        "name": "testee_id",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "default": 1,
                        "description": "页码",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 10,
                        "description": "每页数量",
                        "name": "page_size",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.ReportListResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/evaluations/scores/trend": {
            "get": {
                "description": "获取指定受试者某因子的历史得分趋势",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Evaluation-Score"
                ],
                "summary": "获取因子趋势",
                "parameters": [
                    {
                        "type": "string",
                        "description": "受试者ID",
                        "name": "testee_id",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "因子编码",
                        "name": "factor_code",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "default": 10,
                        "description": "返回记录数限制",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.FactorTrendResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/plans": {
            "get": {
                "description": "分页查询计划列表，支持条件筛选。可通过量表编码（scale_code）筛选特定量表的计划",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Plan-Query"
                ],
                "summary": "查询计划列表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "机构ID",
                        "name": "org_id",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "量表编码（如 '3adyDE'）",
                        "name": "scale_code",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "状态（active/paused/finished/canceled）",
                        "name": "status",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "页码（从1开始）",
                        "name": "page",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "每页数量",
                        "name": "page_size",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.PlanListResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "post": {
                "description": "创建新的测评计划模板，定义周期策略。需要提供量表编码（scale_code）和周期类型（schedule_type）。不同周期类型需要不同的参数：\n- by_week/by_day: 需要 interval（间隔）和 total_times（总次数）\n- fixed_date: 需要 fixed_dates（固定日期列表）\n- custom: 需要 relative_weeks（相对周次列表）",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Plan-Lifecycle"
                ],
                "summary": "创建测评计划模板",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "创建计划请求（scale_code: 量表编码，如 '3adyDE'）",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/request.CreatePlanRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.PlanResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/plans/enroll": {
            "post": {
                "description": "将受试者加入计划，生成所有任务",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Plan-Enrollment"
                ],
                "summary": "受试者加入计划",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "加入计划请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/request.EnrollTesteeRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.EnrollmentResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/plans/tasks": {
            "get": {
                "description": "分页查询任务列表，支持条件筛选",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Plan-Query"
                ],
                "summary": "查询任务列表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "计划ID",
                        "name": "plan_id",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "受试者ID",
                        "name": "testee_id",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "状态",
                        "name": "status",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "页码",
                        "name": "page",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "每页数量",
                        "name": "page_size",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.TaskListResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/plans/tasks/schedule": {
            "post": {
                "description": "定时任务调用，扫描待推送任务，生成入口并开放",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Task-Scheduler"
                ],
                "summary": "调度待推送任务",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "截止时间（格式：YYYY-MM-DD HH:mm:ss），默认当前时间",
                        "name": "before",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.TaskListResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/plans/tasks/{id}": {
            "get": {
                "description": "查询指定任务的完整信息",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Plan-Query"
                ],
                "summary": "获取任务详情",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "任务ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.TaskResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/plans/tasks/{id}/cancel": {
            "post": {
                "description": "手动取消任务",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Task-Management"
                ],
                "summary": "取消任务",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "任务ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/core.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/plans/tasks/{id}/complete": {
            "post": {
                "description": "用户完成测评后，更新任务状态",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Task-Management"
                ],
                "summary": "完成任务",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "任务ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "测评ID",
                        "name": "assessment_id",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.TaskResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/plans/tasks/{id}/expire": {
            "post": {
                "description": "定时任务调用，标记已过期的任务",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Task-Management"
                ],
                "summary": "过期任务",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "任务ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.TaskResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/plans/tasks/{id}/open": {
            "post": {
                "description": "手动开放任务，生成入口",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Task-Management"
                ],
                "summary": "开放任务",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "任务ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "开放任务请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/request.OpenTaskRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.TaskResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/plans/{id}": {
            "get": {
                "description": "查询指定计划的完整信息",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Plan-Query"
                ],
                "summary": "获取计划详情",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "计划ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.PlanResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/plans/{id}/cancel": {
            "post": {
                "description": "取消计划，不可恢复",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Plan-Lifecycle"
                ],
                "summary": "取消计划",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "计划ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/core.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/plans/{id}/pause": {
            "post": {
                "description": "暂停计划，取消所有未执行的任务",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Plan-Lifecycle"
                ],
                "summary": "暂停计划",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "计划ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.PlanResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/plans/{id}/resume": {
            "post": {
                "description": "恢复计划，重新生成未完成的任务",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Plan-Lifecycle"
                ],
                "summary": "恢复计划",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "计划ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "恢复计划请求（可选）",
                        "name": "request",
                        "in": "body",
                        "schema": {
                            "$ref": "#/definitions/request.ResumePlanRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.PlanResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/plans/{id}/tasks": {
            "get": {
                "description": "查看某个计划的所有任务",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Plan-Query"
                ],
                "summary": "查询计划下的所有任务",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "计划ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.TaskListResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/plans/{id}/testees/{testee_id}/terminate": {
            "post": {
                "description": "受试者退出计划，取消所有待处理任务",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Plan-Enrollment"
                ],
                "summary": "终止受试者的计划参与",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "计划ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "受试者ID",
                        "name": "testee_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/core.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/public/questionnaires": {
            "get": {
                "description": "分页查询已发布的问卷列表（C端答题使用）",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Questionnaire-Query"
                ],
                "summary": "查询已发布问卷列表",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 1,
                        "description": "页码",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 10,
                        "description": "每页数量",
                        "name": "page_size",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.QuestionnaireListResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/public/questionnaires/{code}": {
            "get": {
                "description": "根据编码获取已发布的问卷（C端答题使用）",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Questionnaire-Query"
                ],
                "summary": "获取已发布问卷",
                "parameters": [
                    {
                        "type": "string",
                        "description": "问卷编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.QuestionnaireResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/questionnaires": {
            "get": {
                "description": "分页查询问卷列表，支持条件筛选（管理端使用）",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Questionnaire-Query"
                ],
                "summary": "查询问卷列表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "default": 1,
                        "description": "页码",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 10,
                        "description": "每页数量",
                        "name": "page_size",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "状态筛选",
                        "name": "status",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "标题筛选",
                        "name": "title",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.QuestionnaireListResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "post": {
                "description": "创建新问卷，初始状态为草稿",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Questionnaire-Lifecycle"
                ],
                "summary": "创建问卷",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "创建问卷请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/request.CreateQuestionnaireRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.QuestionnaireResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/questionnaires/{code}": {
            "get": {
                "description": "根据编码获取问卷的完整信息（管理端使用）",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Questionnaire-Query"
                ],
                "summary": "获取问卷详情",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "问卷编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.QuestionnaireResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "delete": {
                "description": "删除草稿状态的问卷",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Questionnaire-Lifecycle"
                ],
                "summary": "删除问卷",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "问卷编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/core.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/questionnaires/{code}/archive": {
            "post": {
                "description": "归档不再使用的问卷",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Questionnaire-Lifecycle"
                ],
                "summary": "归档问卷",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "问卷编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.QuestionnaireResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/questionnaires/{code}/basic-info": {
            "put": {
                "description": "更新问卷的标题、描述、封面图",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Questionnaire-Lifecycle"
                ],
                "summary": "更新问卷基本信息",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "问卷编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "更新请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/request.UpdateQuestionnaireBasicInfoRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.QuestionnaireResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/questionnaires/{code}/draft": {
            "post": {
                "description": "保存问卷为草稿状态，小版本号递增",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Questionnaire-Lifecycle"
                ],
                "summary": "保存草稿",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "问卷编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.QuestionnaireResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/questionnaires/{code}/publish": {
            "post": {
                "description": "发布问卷使其可用，大版本号递增",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Questionnaire-Lifecycle"
                ],
                "summary": "发布问卷",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "问卷编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.QuestionnaireResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/questionnaires/{code}/questions": {
            "post": {
                "description": "向问卷添加新问题",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Questionnaire-Content"
                ],
                "summary": "添加问题",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "问卷编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "添加问题请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/request.AddQuestionRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.QuestionnaireResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/questionnaires/{code}/questions/batch": {
            "put": {
                "description": "批量更新问卷的所有问题（前端保存时使用）",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Questionnaire-Content"
                ],
                "summary": "批量更新问题",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "问卷编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "批量更新请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/request.BatchUpdateQuestionsRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.QuestionnaireResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/questionnaires/{code}/questions/reorder": {
            "post": {
                "description": "调整问卷中问题的显示顺序",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Questionnaire-Content"
                ],
                "summary": "重排问题顺序",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "问卷编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "重排问题请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/request.ReorderQuestionsRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.QuestionnaireResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/questionnaires/{code}/questions/{questionCode}": {
            "put": {
                "description": "更新问卷中的某个问题",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Questionnaire-Content"
                ],
                "summary": "更新问题",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "问卷编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "问题编码",
                        "name": "questionCode",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "更新问题请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/request.UpdateQuestionRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.QuestionnaireResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "delete": {
                "description": "从问卷中删除某个问题",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Questionnaire-Content"
                ],
                "summary": "删除问题",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "问卷编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "问题编码",
                        "name": "questionCode",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.QuestionnaireResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/questionnaires/{code}/unpublish": {
            "post": {
                "description": "将已发布的问卷下架",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Questionnaire-Lifecycle"
                ],
                "summary": "下架问卷",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "问卷编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.QuestionnaireResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/scales": {
            "get": {
                "description": "分页获取量表列表（摘要信息，不包含因子详情）。响应中包含分类字段：category（主类）、stages（阶段列表）、applicable_ages（使用年龄列表）、reporters（填报人列表）、tags（标签列表）。",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Scale-Query"
                ],
                "summary": "获取量表列表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "页码",
                        "name": "page",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "每页数量",
                        "name": "page_size",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "状态过滤（draft/published/archived）",
                        "name": "status",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "标题模糊搜索",
                        "name": "title",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.ScaleListResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "post": {
                "description": "创建新量表，初始状态为草稿。支持设置主类、阶段、使用年龄、填报人和标签等分类信息。\n字段说明：\n- category: 主类，可选值：adhd(ADHD)、tic(抽动障碍)、sensory(感统)、executive(执行功能)、mental(心理健康)、neurodev(神经发育)、chronic(慢性病管理)、qol(生活质量)\n- stages: 阶段列表（数组），可选值：screening(筛查)、deep_assessment(深评)、follow_up(随访)、outcome(结局)，可多选\n- applicable_ages: 使用年龄列表（数组），可选值：infant(婴幼儿)、preschool(学龄前)、school_child(学龄儿童)、adolescent(青少年)、adult(成人)，可多选\n- reporters: 填报人列表（数组），可选值：parent(家长评)、teacher(教师评)、self(自评)、clinical(临床评定)，可多选\n- tags: 标签列表（数组），动态输入，最多5个，每个标签长度1-50字符，只能包含字母、数字、下划线和中文",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Scale-Lifecycle"
                ],
                "summary": "创建量表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "创建量表请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/request.CreateScaleRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.ScaleResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/scales/by-questionnaire": {
            "get": {
                "description": "根据关联的问卷编码获取量表。\n响应字段说明：\n- category: 主类（adhd/tic/sensory/executive/mental/neurodev/chronic/qol）\n- stages: 阶段列表（数组，screening/deep_assessment/follow_up/outcome）\n- applicable_ages: 使用年龄列表（数组，infant/preschool/school_child/adolescent/adult）\n- reporters: 填报人列表（数组，可包含 parent/teacher/self/clinical）\n- tags: 标签列表（数组，动态输入）\n- scoring_params: 计分参数，map[string]interface{}，cnt 策略直接包含 cnt_option_contents 字段\n- max_score: 因子的最大分（可选）\n- is_show: 是否显示（用于报告中的维度展示）\n- risk_level: 因子级别的风险等级，从解读规则中提取（使用第一个规则的风险等级），有效值：none/low/medium/high/severe",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Scale-Query"
                ],
                "summary": "根据问卷编码获取量表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "问卷编码",
                        "name": "questionnaire_code",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.ScaleResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/scales/categories": {
            "get": {
                "description": "获取量表的主类、阶段、使用年龄、填报人等分类选项列表，用于前端渲染和配置量表字段。\n返回说明：\n- categories: 主类列表，包含8个选项（adhd, tic, sensory, executive, mental, neurodev, chronic, qol）\n- stages: 阶段列表，包含4个选项（screening, deep_assessment, follow_up, outcome）\n- applicable_ages: 使用年龄列表，包含5个选项（infant, preschool, school_child, adolescent, adult）\n- reporters: 填报人列表，包含4个选项（parent, teacher, self, clinical）\n- tags: 标签列表，返回空数组（标签已改为动态输入，通过后台输入设置）",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Scale-Query"
                ],
                "summary": "获取量表分类列表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.ScaleCategoriesResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/scales/published": {
            "get": {
                "description": "分页获取已发布的量表列表（摘要信息，不包含因子详情）。响应中包含分类字段：category（主类）、stages（阶段列表）、applicable_ages（使用年龄列表）、reporters（填报人列表）、tags（标签列表）。",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Scale-Query"
                ],
                "summary": "获取已发布量表列表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "页码",
                        "name": "page",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "每页数量",
                        "name": "page_size",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "标题模糊搜索",
                        "name": "title",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.ScaleListResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/scales/published/{code}": {
            "get": {
                "description": "根据编码获取已发布的量表。\n响应字段说明：\n- category: 主类（adhd/tic/sensory/executive/mental/neurodev/chronic/qol）\n- stages: 阶段列表（数组，screening/deep_assessment/follow_up/outcome）\n- applicable_ages: 使用年龄列表（数组，infant/preschool/school_child/adolescent/adult）\n- reporters: 填报人列表（数组，可包含 parent/teacher/self/clinical）\n- tags: 标签列表（数组，动态输入）\n- scoring_params: 计分参数，map[string]interface{}，cnt 策略直接包含 cnt_option_contents 字段\n- max_score: 因子的最大分（可选）\n- is_show: 是否显示（用于报告中的维度展示）\n- risk_level: 因子级别的风险等级，从解读规则中提取（使用第一个规则的风险等级），有效值：none/low/medium/high/severe",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Scale-Query"
                ],
                "summary": "获取已发布的量表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "量表编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.ScaleResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/scales/{code}": {
            "get": {
                "description": "根据编码获取量表详情。\n响应字段说明：\n- category: 主类（adhd/tic/sensory/executive/mental/neurodev/chronic/qol）\n- stages: 阶段列表（数组，screening/deep_assessment/follow_up/outcome）\n- applicable_ages: 使用年龄列表（数组，infant/preschool/school_child/adolescent/adult）\n- reporters: 填报人列表（数组，可包含 parent/teacher/self/clinical）\n- tags: 标签列表（数组，动态输入）\n- scoring_params: 计分参数，map[string]interface{}，cnt 策略直接包含 cnt_option_contents 字段\n- max_score: 因子的最大分（可选）\n- is_show: 是否显示（用于报告中的维度展示）\n- risk_level: 因子级别的风险等级，从解读规则中提取（使用第一个规则的风险等级），有效值：none/low/medium/high/severe",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Scale-Query"
                ],
                "summary": "获取量表详情",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "量表编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.ScaleResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "delete": {
                "description": "删除草稿状态的量表",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Scale-Lifecycle"
                ],
                "summary": "删除量表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "量表编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/core.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/scales/{code}/archive": {
            "post": {
                "description": "归档量表。量表编码通过 URL 路径参数传递，不需要请求体。",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Scale-Lifecycle"
                ],
                "summary": "归档量表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "量表编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.ScaleResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/scales/{code}/basic-info": {
            "put": {
                "description": "更新量表的标题、描述、主类、阶段、使用年龄、填报人和标签等分类信息。\n字段说明：\n- category: 主类，可选值：adhd(ADHD)、tic(抽动障碍)、sensory(感统)、executive(执行功能)、mental(心理健康)、neurodev(神经发育)、chronic(慢性病管理)、qol(生活质量)\n- stages: 阶段列表（数组），可选值：screening(筛查)、deep_assessment(深评)、follow_up(随访)、outcome(结局)，可多选\n- applicable_ages: 使用年龄列表（数组），可选值：infant(婴幼儿)、preschool(学龄前)、school_child(学龄儿童)、adolescent(青少年)、adult(成人)，可多选\n- reporters: 填报人列表（数组），可选值：parent(家长评)、teacher(教师评)、self(自评)、clinical(临床评定)，可多选\n- tags: 标签列表（数组），动态输入，最多5个，每个标签长度1-50字符，只能包含字母、数字、下划线和中文",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Scale-Lifecycle"
                ],
                "summary": "更新量表基本信息",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "量表编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "更新请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/request.UpdateScaleBasicInfoRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.ScaleResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/scales/{code}/factors": {
            "get": {
                "description": "根据量表编码获取该量表的所有因子。响应中的 scoring_params 为 map[string]interface{}，cnt 策略直接包含 cnt_option_contents 字段\n响应中的 max_score 为因子的最大分（可选）\n响应中的 is_show 为是否显示（用于报告中的维度展示）\n响应中的 risk_level 为因子级别的风险等级，从解读规则中提取（使用第一个规则的风险等级），有效值：none/low/medium/high/severe",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Scale-Query"
                ],
                "summary": "获取量表的因子列表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "量表编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.FactorListResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/scales/{code}/factors/batch": {
            "put": {
                "description": "批量更新量表的所有因子（前端保存时使用）。计分参数根据策略类型使用不同字段：\n- sum/avg 策略：scoring_params 可为空或省略\n- cnt 策略：scoring_params 必须包含 cnt_option_contents（选项内容数组，字符串数组），且不能为空\n- max_score：最大分（可选），用于设置因子的最大分数\n- is_show：是否显示（用于报告中的维度展示），默认为 true\n- risk_level：因子级别的风险等级（可选），如果解读规则中未指定风险等级，则使用此值；有效值：none/low/medium/high/severe\n响应中的 scoring_params 为 map[string]interface{}，cnt 策略直接包含 cnt_option_contents 字段\n响应中的 max_score 为因子的最大分（可选）\n响应中的 is_show 为是否显示字段\n响应中的 risk_level 为因子级别的风险等级，从解读规则中提取（使用第一个规则的风险等级）",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Scale-Factor"
                ],
                "summary": "批量更新因子",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "量表编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "批量更新因子请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/request.BatchUpdateFactorsRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.ScaleResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/scales/{code}/interpret-rules": {
            "put": {
                "description": "批量设置量表所有因子的解读规则\n响应中的 max_score 为因子的最大分（可选）\n响应中的 is_show 为是否显示字段\n响应中的 risk_level 为因子级别的风险等级，从解读规则中提取（使用第一个规则的风险等级），有效值：none/low/medium/high/severe",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Scale-Factor"
                ],
                "summary": "批量设置解读规则",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "量表编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "设置解读规则请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/request.ReplaceInterpretRulesRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.ScaleResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/scales/{code}/publish": {
            "post": {
                "description": "发布量表使其可用。量表编码通过 URL 路径参数传递，不需要请求体。",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Scale-Lifecycle"
                ],
                "summary": "发布量表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "量表编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.ScaleResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/scales/{code}/questionnaire": {
            "put": {
                "description": "更新量表关联的问卷编码和版本",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Scale-Lifecycle"
                ],
                "summary": "更新关联的问卷",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "量表编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "更新请求",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/request.UpdateScaleQuestionnaireRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.ScaleResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/scales/{code}/unpublish": {
            "post": {
                "description": "下架量表使其不可用。量表编码通过 URL 路径参数传递，不需要请求体。",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Scale-Lifecycle"
                ],
                "summary": "下架量表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "量表编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.ScaleResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/staff": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Actor"
                ],
                "summary": "查询员工列表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "机构ID",
                        "name": "org_id",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "角色筛选",
                        "name": "role",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 1,
                        "description": "页码",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 20,
                        "description": "每页数量",
                        "name": "page_size",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.StaffListResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Actor"
                ],
                "summary": "创建员工",
                "parameters": [
                    {
                        "description": "创建员工请求",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/request.CreateStaffRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.StaffResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/staff/{id}": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Actor"
                ],
                "summary": "获取员工详情",
                "parameters": [
                    {
                        "type": "string",
                        "description": "员工ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.StaffResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "delete": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Actor"
                ],
                "summary": "删除员工",
                "parameters": [
                    {
                        "type": "string",
                        "description": "员工ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/core.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/statistics/plans/{plan_id}": {
            "get": {
                "description": "获取指定测评计划的统计数据，包括任务数、完成率等",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Statistics"
                ],
                "summary": "获取计划统计",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "format": "int64",
                        "description": "计划ID",
                        "name": "plan_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/statistics.PlanStatistics"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/statistics/questionnaires/{code}": {
            "get": {
                "description": "获取指定问卷/量表的统计数据，包括总提交数、完成数、趋势等",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Statistics"
                ],
                "summary": "获取问卷/量表统计",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "问卷编码",
                        "name": "code",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/statistics.QuestionnaireStatistics"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/statistics/sync/accumulated": {
            "post": {
                "description": "将Redis中的累计统计数据同步到MySQL（定时任务调用）",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Statistics-Sync"
                ],
                "summary": "同步累计统计",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌（或内部调用token）",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/core.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/statistics/sync/daily": {
            "post": {
                "description": "将Redis中的每日统计数据同步到MySQL（定时任务调用）",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Statistics-Sync"
                ],
                "summary": "同步每日统计",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌（或内部调用token）",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/core.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/statistics/sync/plan": {
            "post": {
                "description": "同步计划统计数据到MySQL（定时任务调用）",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Statistics-Sync"
                ],
                "summary": "同步计划统计",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌（或内部调用token）",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/core.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/statistics/system": {
            "get": {
                "description": "获取系统整体统计数据，包括问卷数量、答卷数量、受试者数量等",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Statistics"
                ],
                "summary": "获取系统整体统计",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/statistics.SystemStatistics"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/statistics/testees/{testee_id}": {
            "get": {
                "description": "获取指定受试者的统计数据，包括测评数、完成数、风险分布等",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Statistics"
                ],
                "summary": "获取受试者统计",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "format": "int64",
                        "description": "受试者ID",
                        "name": "testee_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/statistics.TesteeStatistics"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/statistics/validate": {
            "post": {
                "description": "校验Redis和MySQL统计数据的一致性，修复不一致（定时任务调用）",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Statistics-Sync"
                ],
                "summary": "校验数据一致性",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌（或内部调用token）",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/core.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/testees": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Actor"
                ],
                "summary": "查询受试者列表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "机构ID",
                        "name": "org_id",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "姓名（模糊匹配）",
                        "name": "name",
                        "in": "query"
                    },
                    {
                        "type": "boolean",
                        "description": "是否重点关注",
                        "name": "is_key_focus",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 1,
                        "description": "页码",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 20,
                        "description": "每页数量",
                        "name": "page_size",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.TesteeListResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/testees/{id}": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Actor"
                ],
                "summary": "获取受试者详情",
                "parameters": [
                    {
                        "type": "string",
                        "description": "受试者ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.TesteeResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "put": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Actor"
                ],
                "summary": "更新受试者",
                "parameters": [
                    {
                        "type": "string",
                        "description": "受试者ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "更新受试者请求",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/request.UpdateTesteeRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.TesteeResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/testees/{id}/periodic-stats": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Testee"
                ],
                "summary": "获取受试者周期统计",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Testee ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.PeriodicStatsResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/core.Response"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/core.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/testees/{id}/plans": {
            "get": {
                "description": "查看某个受试者参与的所有计划",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Plan-Query"
                ],
                "summary": "查询受试者参与的所有计划",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "受试者ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.PlanListResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/testees/{id}/plans/{plan_id}/tasks": {
            "get": {
                "description": "查看某个受试者在某个计划下的所有任务",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Plan-Query"
                ],
                "summary": "查询受试者在某个计划下的所有任务",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "受试者ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "计划ID",
                        "name": "plan_id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.TaskListResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/api/v1/testees/{id}/scale-analysis": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Testee"
                ],
                "summary": "获取受试者量表分析结果",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Testee ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.ScaleAnalysisResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/core.Response"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/core.Response"
                        }
                    }
                }
            }
        },
        "/api/v1/testees/{id}/tasks": {
            "get": {
                "description": "查看某个受试者的所有任务",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Plan-Query"
                ],
                "summary": "查询受试者的所有任务",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "受试者ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/core.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/response.TaskListResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/health": {
            "get": {
                "description": "检查 API Server 健康状态",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "系统"
                ],
                "summary": "健康检查",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/ping": {
            "get": {
                "description": "测试 API Server 连通性",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "系统"
                ],
                "summary": "Ping",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "core.Response": {
            "type": "object",
            "properties": {
                "code": {
                    "description": "Code 业务状态码，0 表示成功",
                    "type": "integer"
                },
                "data": {
                    "description": "Data 响应数据"
                },
                "message": {
                    "description": "Message 响应消息",
                    "type": "string"
                },
                "reference": {
                    "description": "Reference 返回参考文档（错误时使用）",
                    "type": "string"
                }
            }
        },
        "meta.ID": {
            "type": "integer",
            "format": "int64",
            "enum": [
                0
            ],
            "x-enum-varnames": [
                "ZeroID"
            ]
        },
        "request.AddQuestionRequest": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "options": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/viewmodel.OptionDTO"
                    }
                },
                "required": {
                    "type": "boolean"
                },
                "stem": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "request.ApplyCodeRequest": {
            "type": "object",
            "properties": {
                "count": {
                    "type": "integer"
                },
                "kind": {
                    "type": "string"
                },
                "metadata": {
                    "type": "object",
                    "additionalProperties": true
                },
                "prefix": {
                    "type": "string"
                }
            }
        },
        "request.BatchEvaluateRequest": {
            "type": "object",
            "properties": {
                "assessment_ids": {
                    "description": "测评ID列表",
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                }
            }
        },
        "request.BatchUpdateFactorsRequest": {
            "type": "object",
            "properties": {
                "factors": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/request.FactorModel"
                    }
                }
            }
        },
        "request.BatchUpdateQuestionsRequest": {
            "type": "object",
            "properties": {
                "questions": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/viewmodel.QuestionDTO"
                    }
                }
            }
        },
        "request.CreatePlanRequest": {
            "type": "object",
            "properties": {
                "fixed_dates": {
                    "description": "固定日期列表（用于 fixed_date，格式：YYYY-MM-DD）",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "interval": {
                    "description": "间隔（用于 by_week/by_day）",
                    "type": "integer"
                },
                "relative_weeks": {
                    "description": "相对周次列表（用于 custom，如 [2,4,8,12]）",
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "scale_code": {
                    "type": "string"
                },
                "schedule_type": {
                    "type": "string"
                },
                "total_times": {
                    "description": "总次数（用于 by_week/by_day）",
                    "type": "integer"
                }
            }
        },
        "request.CreateQuestionnaireRequest": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string"
                },
                "img_url": {
                    "type": "string"
                },
                "title": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "request.CreateScaleRequest": {
            "type": "object",
            "properties": {
                "applicable_ages": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "category": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "questionnaire_code": {
                    "type": "string"
                },
                "questionnaire_version": {
                    "type": "string"
                },
                "reporters": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "stages": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "tags": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "title": {
                    "type": "string"
                }
            }
        },
        "request.CreateStaffRequest": {
            "type": "object",
            "required": [
                "name",
                "org_id",
                "roles"
            ],
            "properties": {
                "email": {
                    "description": "邮箱",
                    "type": "string"
                },
                "is_active": {
                    "description": "是否激活",
                    "type": "boolean"
                },
                "name": {
                    "description": "姓名",
                    "type": "string"
                },
                "org_id": {
                    "description": "机构ID",
                    "type": "integer"
                },
                "phone": {
                    "description": "电话",
                    "type": "string"
                },
                "roles": {
                    "description": "角色列表",
                    "type": "array",
                    "minItems": 1,
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "request.EnrollTesteeRequest": {
            "type": "object",
            "properties": {
                "plan_id": {
                    "type": "string"
                },
                "start_date": {
                    "description": "格式：YYYY-MM-DD",
                    "type": "string"
                },
                "testee_id": {
                    "type": "string"
                }
            }
        },
        "request.FactorInterpretRulesModel": {
            "type": "object",
            "properties": {
                "factor_code": {
                    "type": "string"
                },
                "interpret_rules": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/request.InterpretRuleModel"
                    }
                }
            }
        },
        "request.FactorModel": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "string"
                },
                "factor_type": {
                    "type": "string"
                },
                "interpret_rules": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/request.InterpretRuleModel"
                    }
                },
                "is_show": {
                    "description": "是否显示（用于报告中的维度展示）",
                    "type": "boolean"
                },
                "is_total_score": {
                    "type": "boolean"
                },
                "max_score": {
                    "description": "最大分",
                    "type": "number"
                },
                "question_codes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "risk_level": {
                    "description": "因子级别的风险等级（用于批量设置，如果解读规则未指定则使用此值）",
                    "type": "string"
                },
                "scoring_params": {
                    "$ref": "#/definitions/request.ScoringParamsModel"
                },
                "scoring_strategy": {
                    "type": "string"
                },
                "title": {
                    "type": "string"
                }
            }
        },
        "request.InterpretRuleModel": {
            "type": "object",
            "properties": {
                "conclusion": {
                    "type": "string"
                },
                "max_score": {
                    "type": "number"
                },
                "min_score": {
                    "type": "number"
                },
                "risk_level": {
                    "type": "string"
                },
                "suggestion": {
                    "type": "string"
                }
            }
        },
        "request.OpenTaskRequest": {
            "type": "object",
            "properties": {
                "entry_token": {
                    "type": "string"
                },
                "entry_url": {
                    "type": "string"
                },
                "expire_at": {
                    "description": "格式：YYYY-MM-DD HH:mm:ss",
                    "type": "string"
                }
            }
        },
        "request.ReorderQuestionsRequest": {
            "type": "object",
            "properties": {
                "question_codes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "request.ReplaceInterpretRulesRequest": {
            "type": "object",
            "properties": {
                "factor_rules": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/request.FactorInterpretRulesModel"
                    }
                }
            }
        },
        "request.ResumePlanRequest": {
            "type": "object",
            "properties": {
                "testee_start_dates": {
                    "description": "受试者ID -\u003e 开始日期（格式：YYYY-MM-DD）",
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    }
                }
            }
        },
        "request.ScoringParamsModel": {
            "type": "object",
            "properties": {
                "cnt_option_contents": {
                    "description": "计数策略（cnt）专用参数",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "request.UpdateQuestionRequest": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "options": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/viewmodel.OptionDTO"
                    }
                },
                "required": {
                    "type": "boolean"
                },
                "stem": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "request.UpdateQuestionnaireBasicInfoRequest": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string"
                },
                "img_url": {
                    "type": "string"
                },
                "title": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "request.UpdateScaleBasicInfoRequest": {
            "type": "object",
            "properties": {
                "applicable_ages": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "category": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "reporters": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "stages": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "tags": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "title": {
                    "type": "string"
                }
            }
        },
        "request.UpdateScaleQuestionnaireRequest": {
            "type": "object",
            "properties": {
                "questionnaire_code": {
                    "type": "string"
                },
                "questionnaire_version": {
                    "type": "string"
                }
            }
        },
        "request.UpdateTesteeRequest": {
            "type": "object",
            "properties": {
                "birthday": {
                    "description": "出生日期",
                    "type": "string"
                },
                "gender": {
                    "description": "性别",
                    "type": "string"
                },
                "is_key_focus": {
                    "description": "是否重点关注",
                    "type": "boolean"
                },
                "name": {
                    "description": "姓名",
                    "type": "string"
                },
                "tags": {
                    "description": "标签",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "response.AnswerSheetListResponse": {
            "type": "object",
            "properties": {
                "items": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.AnswerSheetSummaryItem"
                    }
                },
                "total": {
                    "type": "integer"
                }
            }
        },
        "response.AnswerSheetResponse": {
            "type": "object",
            "properties": {
                "answers": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/viewmodel.AnswerDTO"
                    }
                },
                "filled_at": {
                    "type": "string"
                },
                "filler_id": {
                    "$ref": "#/definitions/meta.ID"
                },
                "filler_name": {
                    "type": "string"
                },
                "id": {
                    "$ref": "#/definitions/meta.ID"
                },
                "questionnaire_code": {
                    "type": "string"
                },
                "questionnaire_ver": {
                    "type": "string"
                },
                "score": {
                    "type": "number"
                },
                "title": {
                    "type": "string"
                }
            }
        },
        "response.AnswerSheetStatisticsResponse": {
            "type": "object",
            "properties": {
                "average_score": {
                    "type": "number"
                },
                "max_score": {
                    "type": "number"
                },
                "min_score": {
                    "type": "number"
                },
                "questionnaire_code": {
                    "type": "string"
                },
                "total_count": {
                    "type": "integer"
                }
            }
        },
        "response.AnswerSheetSummaryItem": {
            "type": "object",
            "properties": {
                "filled_at": {
                    "type": "string"
                },
                "filler_id": {
                    "$ref": "#/definitions/meta.ID"
                },
                "id": {
                    "$ref": "#/definitions/meta.ID"
                },
                "questionnaire_code": {
                    "type": "string"
                },
                "questionnaire_ver": {
                    "type": "string"
                },
                "score": {
                    "type": "number"
                },
                "title": {
                    "type": "string"
                }
            }
        },
        "response.ApplicableAgeResponse": {
            "type": "object",
            "properties": {
                "label": {
                    "type": "string"
                },
                "value": {
                    "type": "string"
                }
            }
        },
        "response.ApplyCodeResponse": {
            "type": "object",
            "properties": {
                "codes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "count": {
                    "type": "integer"
                }
            }
        },
        "response.AssessmentListResponse": {
            "type": "object",
            "properties": {
                "items": {
                    "description": "测评列表",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.AssessmentResponse"
                    }
                },
                "page": {
                    "description": "当前页",
                    "type": "integer"
                },
                "page_size": {
                    "description": "每页数量",
                    "type": "integer"
                },
                "total": {
                    "description": "总数",
                    "type": "integer"
                },
                "total_pages": {
                    "description": "总页数",
                    "type": "integer"
                }
            }
        },
        "response.AssessmentResponse": {
            "type": "object",
            "properties": {
                "answer_sheet_id": {
                    "description": "答卷ID",
                    "type": "string"
                },
                "failed_at": {
                    "type": "string"
                },
                "failure_reason": {
                    "type": "string"
                },
                "id": {
                    "description": "测评ID",
                    "type": "string"
                },
                "interpreted_at": {
                    "type": "string"
                },
                "medical_scale_code": {
                    "description": "量表编码",
                    "type": "string"
                },
                "medical_scale_id": {
                    "description": "量表ID",
                    "type": "string"
                },
                "medical_scale_name": {
                    "description": "量表名称",
                    "type": "string"
                },
                "org_id": {
                    "description": "组织ID",
                    "type": "string"
                },
                "origin_id": {
                    "description": "来源ID",
                    "type": "string"
                },
                "origin_type": {
                    "description": "来源类型",
                    "type": "string"
                },
                "questionnaire_code": {
                    "description": "问卷编码（唯一标识）",
                    "type": "string"
                },
                "questionnaire_version": {
                    "description": "问卷版本",
                    "type": "string"
                },
                "risk_level": {
                    "description": "风险等级",
                    "type": "string"
                },
                "status": {
                    "description": "状态",
                    "type": "string"
                },
                "submitted_at": {
                    "description": "提交时间",
                    "type": "string"
                },
                "testee_id": {
                    "description": "受试者ID",
                    "type": "string"
                },
                "total_score": {
                    "description": "总分",
                    "type": "number"
                }
            }
        },
        "response.AssessmentStatisticsResponse": {
            "type": "object",
            "properties": {
                "average_score": {
                    "description": "平均分",
                    "type": "number"
                },
                "failed_count": {
                    "description": "失败数",
                    "type": "integer"
                },
                "interpreted_count": {
                    "description": "已解读数",
                    "type": "integer"
                },
                "pending_count": {
                    "description": "待提交数",
                    "type": "integer"
                },
                "risk_distribution": {
                    "description": "风险等级分布",
                    "type": "object",
                    "additionalProperties": {
                        "type": "integer"
                    }
                },
                "scale_stats": {
                    "description": "按量表统计",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.ScaleStatResponse"
                    }
                },
                "submitted_count": {
                    "description": "已提交数",
                    "type": "integer"
                },
                "total_count": {
                    "description": "总测评数",
                    "type": "integer"
                }
            }
        },
        "response.AssessmentStatsResponse": {
            "type": "object",
            "properties": {
                "last_assessment_at": {
                    "description": "最后测评时间",
                    "type": "string"
                },
                "last_risk_level": {
                    "description": "最后风险等级",
                    "type": "string"
                },
                "total_count": {
                    "description": "总次数",
                    "type": "integer"
                }
            }
        },
        "response.BatchEvaluationResponse": {
            "type": "object",
            "properties": {
                "failed_count": {
                    "description": "失败数",
                    "type": "integer"
                },
                "failed_ids": {
                    "description": "失败的测评ID列表",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "success_count": {
                    "description": "成功数",
                    "type": "integer"
                },
                "total_count": {
                    "description": "总数",
                    "type": "integer"
                }
            }
        },
        "response.CategoryResponse": {
            "type": "object",
            "properties": {
                "label": {
                    "type": "string"
                },
                "value": {
                    "type": "string"
                }
            }
        },
        "response.DimensionItem": {
            "type": "object",
            "properties": {
                "description": {
                    "description": "解读描述",
                    "type": "string"
                },
                "factor_code": {
                    "description": "因子编码",
                    "type": "string"
                },
                "factor_name": {
                    "description": "因子名称",
                    "type": "string"
                },
                "max_score": {
                    "description": "最大分",
                    "type": "number"
                },
                "raw_score": {
                    "description": "原始分",
                    "type": "number"
                },
                "risk_level": {
                    "description": "风险等级",
                    "type": "string"
                },
                "suggestion": {
                    "description": "维度建议",
                    "type": "string"
                }
            }
        },
        "response.EnrollmentResponse": {
            "type": "object",
            "properties": {
                "plan_id": {
                    "type": "string"
                },
                "tasks": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.TaskResponse"
                    }
                }
            }
        },
        "response.FactorListResponse": {
            "type": "object",
            "properties": {
                "factors": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.FactorResponse"
                    }
                }
            }
        },
        "response.FactorResponse": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "string"
                },
                "factor_type": {
                    "type": "string"
                },
                "interpret_rules": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.InterpretRuleResponse"
                    }
                },
                "is_show": {
                    "description": "是否显示（用于报告中的维度展示）",
                    "type": "boolean"
                },
                "is_total_score": {
                    "type": "boolean"
                },
                "max_score": {
                    "description": "最大分",
                    "type": "number"
                },
                "question_codes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "risk_level": {
                    "description": "因子级别的风险等级（从解读规则中提取）",
                    "type": "string"
                },
                "scoring_params": {
                    "type": "object",
                    "additionalProperties": true
                },
                "scoring_strategy": {
                    "type": "string"
                },
                "title": {
                    "type": "string"
                }
            }
        },
        "response.FactorScoreItem": {
            "type": "object",
            "properties": {
                "conclusion": {
                    "description": "结论",
                    "type": "string"
                },
                "factor_code": {
                    "description": "因子编码",
                    "type": "string"
                },
                "factor_name": {
                    "description": "因子名称",
                    "type": "string"
                },
                "is_total_score": {
                    "description": "是否为总分因子",
                    "type": "boolean"
                },
                "max_score": {
                    "description": "最大分",
                    "type": "number"
                },
                "raw_score": {
                    "description": "原始分",
                    "type": "number"
                },
                "risk_level": {
                    "description": "风险等级",
                    "type": "string"
                },
                "suggestion": {
                    "description": "建议",
                    "type": "string"
                }
            }
        },
        "response.FactorTrendResponse": {
            "type": "object",
            "properties": {
                "data_points": {
                    "description": "数据点列表",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.TrendDataPoint"
                    }
                },
                "factor_code": {
                    "description": "因子编码",
                    "type": "string"
                },
                "factor_name": {
                    "description": "因子名称",
                    "type": "string"
                },
                "testee_id": {
                    "description": "受试者ID",
                    "type": "string"
                }
            }
        },
        "response.GuardianResponse": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "phone": {
                    "type": "string"
                },
                "relation": {
                    "type": "string"
                }
            }
        },
        "response.HighRiskFactorsResponse": {
            "type": "object",
            "properties": {
                "assessment_id": {
                    "description": "测评ID",
                    "type": "string"
                },
                "has_high_risk": {
                    "description": "是否存在高风险",
                    "type": "boolean"
                },
                "high_risk_factors": {
                    "description": "高风险因子列表",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.FactorScoreItem"
                    }
                },
                "needs_urgent_care": {
                    "description": "是否需要紧急关注",
                    "type": "boolean"
                }
            }
        },
        "response.InterpretRuleResponse": {
            "type": "object",
            "properties": {
                "conclusion": {
                    "type": "string"
                },
                "max_score": {
                    "type": "number"
                },
                "min_score": {
                    "type": "number"
                },
                "risk_level": {
                    "type": "string"
                },
                "suggestion": {
                    "type": "string"
                }
            }
        },
        "response.PeriodicProjectResponse": {
            "type": "object",
            "properties": {
                "completed_weeks": {
                    "description": "已完成周数",
                    "type": "integer"
                },
                "completion_rate": {
                    "description": "完成率（0-100）",
                    "type": "number"
                },
                "current_week": {
                    "description": "当前应该完成的周次",
                    "type": "integer"
                },
                "end_date": {
                    "description": "项目结束日期",
                    "type": "string"
                },
                "project_id": {
                    "description": "项目ID",
                    "type": "string"
                },
                "project_name": {
                    "description": "项目名称",
                    "type": "string"
                },
                "scale_name": {
                    "description": "关联的量表名称",
                    "type": "string"
                },
                "start_date": {
                    "description": "项目开始日期",
                    "type": "string"
                },
                "tasks": {
                    "description": "各周任务状态（按周次升序排列）",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.PeriodicTaskResponse"
                    }
                },
                "total_weeks": {
                    "description": "总周数",
                    "type": "integer"
                }
            }
        },
        "response.PeriodicStatsResponse": {
            "type": "object",
            "properties": {
                "active_projects": {
                    "description": "进行中的项目数",
                    "type": "integer"
                },
                "projects": {
                    "description": "周期性项目列表",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.PeriodicProjectResponse"
                    }
                },
                "total_projects": {
                    "description": "项目总数",
                    "type": "integer"
                }
            }
        },
        "response.PeriodicTaskResponse": {
            "type": "object",
            "properties": {
                "assessment_id": {
                    "description": "关联的测评ID（如已完成）",
                    "type": "string"
                },
                "completed_at": {
                    "description": "完成时间",
                    "type": "string"
                },
                "due_date": {
                    "description": "截止时间",
                    "type": "string"
                },
                "status": {
                    "description": "状态：completed/pending/overdue",
                    "type": "string"
                },
                "week": {
                    "description": "第几周（从1开始）",
                    "type": "integer"
                }
            }
        },
        "response.PlanListResponse": {
            "type": "object",
            "properties": {
                "page": {
                    "type": "integer"
                },
                "page_size": {
                    "type": "integer"
                },
                "plans": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.PlanResponse"
                    }
                },
                "total_count": {
                    "type": "integer"
                }
            }
        },
        "response.PlanResponse": {
            "type": "object",
            "properties": {
                "fixed_dates": {
                    "description": "固定日期列表（用于 fixed_date）",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "id": {
                    "description": "计划ID",
                    "type": "string"
                },
                "interval": {
                    "description": "间隔（周/天，用于 by_week/by_day）",
                    "type": "integer"
                },
                "org_id": {
                    "description": "机构ID",
                    "type": "integer"
                },
                "relative_weeks": {
                    "description": "相对周次列表（用于 custom）",
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "scale_code": {
                    "description": "量表编码（如 \"3adyDE\"）",
                    "type": "string"
                },
                "schedule_type": {
                    "description": "周期类型：by_week/by_day/fixed_date/custom",
                    "type": "string"
                },
                "status": {
                    "description": "状态：active/paused/finished/canceled",
                    "type": "string"
                },
                "total_times": {
                    "description": "总次数（用于 by_week/by_day）",
                    "type": "integer"
                }
            }
        },
        "response.QuestionnaireListResponse": {
            "type": "object",
            "properties": {
                "page": {
                    "type": "integer"
                },
                "page_size": {
                    "type": "integer"
                },
                "questionnaires": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.QuestionnaireResponse"
                    }
                },
                "total_count": {
                    "type": "integer"
                }
            }
        },
        "response.QuestionnaireResponse": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "img_url": {
                    "type": "string"
                },
                "questions": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/viewmodel.QuestionDTO"
                    }
                },
                "status": {
                    "type": "string"
                },
                "title": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                },
                "version": {
                    "type": "string"
                }
            }
        },
        "response.ReportListResponse": {
            "type": "object",
            "properties": {
                "items": {
                    "description": "报告列表",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.ReportResponse"
                    }
                },
                "page": {
                    "description": "当前页",
                    "type": "integer"
                },
                "page_size": {
                    "description": "每页数量",
                    "type": "integer"
                },
                "total": {
                    "description": "总数",
                    "type": "integer"
                },
                "total_pages": {
                    "description": "总页数",
                    "type": "integer"
                }
            }
        },
        "response.ReportResponse": {
            "type": "object",
            "properties": {
                "assessment_id": {
                    "description": "测评ID",
                    "type": "string"
                },
                "conclusion": {
                    "description": "总结论",
                    "type": "string"
                },
                "created_at": {
                    "description": "创建时间",
                    "type": "string"
                },
                "dimensions": {
                    "description": "维度解读列表",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.DimensionItem"
                    }
                },
                "risk_level": {
                    "description": "风险等级",
                    "type": "string"
                },
                "scale_code": {
                    "description": "量表编码",
                    "type": "string"
                },
                "scale_name": {
                    "description": "量表名称",
                    "type": "string"
                },
                "suggestions": {
                    "description": "建议列表",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.SuggestionItem"
                    }
                },
                "total_score": {
                    "description": "总分",
                    "type": "number"
                }
            }
        },
        "response.ReporterResponse": {
            "type": "object",
            "properties": {
                "label": {
                    "type": "string"
                },
                "value": {
                    "type": "string"
                }
            }
        },
        "response.ScaleAnalysisResponse": {
            "type": "object",
            "properties": {
                "scales": {
                    "description": "量表趋势列表",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.ScaleTrendResponse"
                    }
                }
            }
        },
        "response.ScaleCategoriesResponse": {
            "type": "object",
            "properties": {
                "applicable_ages": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.ApplicableAgeResponse"
                    }
                },
                "categories": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.CategoryResponse"
                    }
                },
                "reporters": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.ReporterResponse"
                    }
                },
                "stages": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.StageResponse"
                    }
                },
                "tags": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.TagResponse"
                    }
                }
            }
        },
        "response.ScaleFactorResponse": {
            "type": "object",
            "properties": {
                "factor_code": {
                    "description": "因子编码",
                    "type": "string"
                },
                "factor_name": {
                    "description": "因子名称",
                    "type": "string"
                },
                "percentile": {
                    "description": "百分位",
                    "type": "number"
                },
                "raw_score": {
                    "description": "原始分",
                    "type": "number"
                },
                "risk_level": {
                    "description": "风险等级：normal/medium/high",
                    "type": "string"
                },
                "t_score": {
                    "description": "T分",
                    "type": "number"
                }
            }
        },
        "response.ScaleListResponse": {
            "type": "object",
            "properties": {
                "page": {
                    "type": "integer"
                },
                "page_size": {
                    "type": "integer"
                },
                "scales": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.ScaleResponse"
                    }
                },
                "total_count": {
                    "type": "integer"
                }
            }
        },
        "response.ScaleResponse": {
            "type": "object",
            "properties": {
                "applicable_ages": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "category": {
                    "type": "string"
                },
                "code": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "factors": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.FactorResponse"
                    }
                },
                "questionnaire_code": {
                    "type": "string"
                },
                "questionnaire_version": {
                    "type": "string"
                },
                "reporters": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "stages": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "status": {
                    "type": "string"
                },
                "tags": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "title": {
                    "type": "string"
                }
            }
        },
        "response.ScaleStatResponse": {
            "type": "object",
            "properties": {
                "average_score": {
                    "description": "平均分",
                    "type": "number"
                },
                "count": {
                    "description": "测评数",
                    "type": "integer"
                },
                "scale_code": {
                    "description": "量表编码",
                    "type": "string"
                },
                "scale_name": {
                    "description": "量表名称",
                    "type": "string"
                }
            }
        },
        "response.ScaleTestResponse": {
            "type": "object",
            "properties": {
                "assessment_id": {
                    "description": "测评ID",
                    "type": "string"
                },
                "factors": {
                    "description": "各因子得分",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.ScaleFactorResponse"
                    }
                },
                "result": {
                    "description": "结果描述，如：\"轻度焦虑\"",
                    "type": "string"
                },
                "risk_level": {
                    "description": "风险等级：normal/medium/high",
                    "type": "string"
                },
                "test_date": {
                    "description": "测评日期",
                    "type": "string"
                },
                "total_score": {
                    "description": "总分",
                    "type": "number"
                }
            }
        },
        "response.ScaleTrendResponse": {
            "type": "object",
            "properties": {
                "scale_code": {
                    "description": "量表编码",
                    "type": "string"
                },
                "scale_id": {
                    "description": "量表ID",
                    "type": "string"
                },
                "scale_name": {
                    "description": "量表名称",
                    "type": "string"
                },
                "tests": {
                    "description": "测评历史记录（按时间升序排列）",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.ScaleTestResponse"
                    }
                }
            }
        },
        "response.ScoreResponse": {
            "type": "object",
            "properties": {
                "assessment_id": {
                    "description": "测评ID",
                    "type": "string"
                },
                "factor_scores": {
                    "description": "因子得分列表",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.FactorScoreItem"
                    }
                },
                "risk_level": {
                    "description": "整体风险等级",
                    "type": "string"
                },
                "total_score": {
                    "description": "总分",
                    "type": "number"
                }
            }
        },
        "response.StaffListResponse": {
            "type": "object",
            "properties": {
                "items": {
                    "description": "列表数据",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.StaffResponse"
                    }
                },
                "page": {
                    "description": "当前页码",
                    "type": "integer"
                },
                "page_size": {
                    "description": "每页数量",
                    "type": "integer"
                },
                "total": {
                    "description": "总数",
                    "type": "integer"
                },
                "total_pages": {
                    "description": "总页数",
                    "type": "integer"
                }
            }
        },
        "response.StaffResponse": {
            "type": "object",
            "properties": {
                "created_at": {
                    "description": "创建时间",
                    "type": "string"
                },
                "email": {
                    "description": "邮箱",
                    "type": "string"
                },
                "id": {
                    "description": "ID",
                    "type": "string"
                },
                "is_active": {
                    "description": "是否激活",
                    "type": "boolean"
                },
                "name": {
                    "description": "姓名",
                    "type": "string"
                },
                "org_id": {
                    "description": "机构ID",
                    "type": "string"
                },
                "phone": {
                    "description": "电话",
                    "type": "string"
                },
                "roles": {
                    "description": "角色列表",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "updated_at": {
                    "description": "更新时间",
                    "type": "string"
                },
                "user_id": {
                    "description": "用户ID",
                    "type": "string"
                }
            }
        },
        "response.StageResponse": {
            "type": "object",
            "properties": {
                "label": {
                    "type": "string"
                },
                "value": {
                    "type": "string"
                }
            }
        },
        "response.SuggestionItem": {
            "type": "object",
            "properties": {
                "category": {
                    "description": "建议分类",
                    "type": "string"
                },
                "content": {
                    "description": "建议内容",
                    "type": "string"
                },
                "factor_code": {
                    "description": "关联因子编码",
                    "type": "string"
                }
            }
        },
        "response.TagResponse": {
            "type": "object",
            "properties": {
                "category": {
                    "type": "string"
                },
                "label": {
                    "type": "string"
                },
                "value": {
                    "type": "string"
                }
            }
        },
        "response.TaskListResponse": {
            "type": "object",
            "properties": {
                "page": {
                    "type": "integer"
                },
                "page_size": {
                    "type": "integer"
                },
                "tasks": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.TaskResponse"
                    }
                },
                "total_count": {
                    "type": "integer"
                }
            }
        },
        "response.TaskResponse": {
            "type": "object",
            "properties": {
                "assessment_id": {
                    "description": "关联的测评ID",
                    "type": "string"
                },
                "completed_at": {
                    "description": "完成时间",
                    "type": "string"
                },
                "entry_token": {
                    "description": "入口令牌",
                    "type": "string"
                },
                "entry_url": {
                    "description": "入口URL",
                    "type": "string"
                },
                "expire_at": {
                    "description": "截止时间",
                    "type": "string"
                },
                "id": {
                    "description": "任务ID",
                    "type": "string"
                },
                "open_at": {
                    "description": "实际开放时间",
                    "type": "string"
                },
                "org_id": {
                    "description": "机构ID",
                    "type": "integer"
                },
                "plan_id": {
                    "description": "计划ID",
                    "type": "string"
                },
                "planned_at": {
                    "description": "计划时间点",
                    "type": "string"
                },
                "scale_code": {
                    "description": "量表编码（如 \"3adyDE\"）",
                    "type": "string"
                },
                "seq": {
                    "description": "序号（计划内的第N次测评）",
                    "type": "integer"
                },
                "status": {
                    "description": "状态：pending/opened/completed/expired/canceled",
                    "type": "string"
                },
                "testee_id": {
                    "description": "受试者ID",
                    "type": "string"
                }
            }
        },
        "response.TesteeListResponse": {
            "type": "object",
            "properties": {
                "items": {
                    "description": "列表数据",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.TesteeResponse"
                    }
                },
                "page": {
                    "description": "当前页码",
                    "type": "integer"
                },
                "page_size": {
                    "description": "每页数量",
                    "type": "integer"
                },
                "total": {
                    "description": "总数",
                    "type": "integer"
                },
                "total_pages": {
                    "description": "总页数",
                    "type": "integer"
                }
            }
        },
        "response.TesteeResponse": {
            "type": "object",
            "properties": {
                "assessment_stats": {
                    "description": "测评统计",
                    "allOf": [
                        {
                            "$ref": "#/definitions/response.AssessmentStatsResponse"
                        }
                    ]
                },
                "birthday": {
                    "description": "出生日期",
                    "type": "string"
                },
                "created_at": {
                    "description": "创建时间",
                    "type": "string"
                },
                "gender": {
                    "description": "性别",
                    "type": "string"
                },
                "guardians": {
                    "description": "监护人信息列表",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/response.GuardianResponse"
                    }
                },
                "iam_child_id": {
                    "description": "IAM儿童ID（已废弃，向后兼容，等同于ProfileID）",
                    "type": "string"
                },
                "id": {
                    "description": "ID",
                    "type": "string"
                },
                "is_key_focus": {
                    "description": "是否重点关注",
                    "type": "boolean"
                },
                "name": {
                    "description": "姓名",
                    "type": "string"
                },
                "org_id": {
                    "description": "机构ID",
                    "type": "string"
                },
                "profile_id": {
                    "description": "用户档案ID（新字段）",
                    "type": "string"
                },
                "source": {
                    "description": "来源",
                    "type": "string"
                },
                "tags": {
                    "description": "标签",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "updated_at": {
                    "description": "更新时间",
                    "type": "string"
                }
            }
        },
        "response.TrendDataPoint": {
            "type": "object",
            "properties": {
                "assessment_id": {
                    "description": "测评ID",
                    "type": "string"
                },
                "raw_score": {
                    "description": "得分",
                    "type": "number"
                },
                "risk_level": {
                    "description": "风险等级",
                    "type": "string"
                }
            }
        },
        "statistics.DailyCount": {
            "type": "object",
            "properties": {
                "count": {
                    "type": "integer"
                },
                "date": {
                    "type": "string"
                }
            }
        },
        "statistics.PlanStatistics": {
            "type": "object",
            "properties": {
                "active_testees": {
                    "description": "活跃受试者数（有完成任务的）",
                    "type": "integer"
                },
                "completed_tasks": {
                    "description": "已完成任务数",
                    "type": "integer"
                },
                "completion_rate": {
                    "description": "完成率",
                    "type": "number"
                },
                "enrolled_testees": {
                    "description": "受试者统计",
                    "type": "integer"
                },
                "expired_tasks": {
                    "description": "已过期任务数",
                    "type": "integer"
                },
                "org_id": {
                    "type": "integer"
                },
                "pending_tasks": {
                    "description": "待完成任务数",
                    "type": "integer"
                },
                "plan_id": {
                    "type": "integer"
                },
                "total_tasks": {
                    "description": "任务统计",
                    "type": "integer"
                }
            }
        },
        "statistics.QuestionnaireStatistics": {
            "type": "object",
            "properties": {
                "completion_rate": {
                    "description": "完成率 = TotalCompletions / TotalSubmissions",
                    "type": "number"
                },
                "daily_trend": {
                    "description": "趋势数据（近30天）",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/statistics.DailyCount"
                    }
                },
                "last_15_days_count": {
                    "description": "近15天提交数",
                    "type": "integer"
                },
                "last_30_days_count": {
                    "description": "近30天提交数",
                    "type": "integer"
                },
                "last_7_days_count": {
                    "description": "时间维度统计",
                    "type": "integer"
                },
                "org_id": {
                    "type": "integer"
                },
                "origin_distribution": {
                    "description": "来源分布",
                    "type": "object",
                    "additionalProperties": {
                        "type": "integer",
                        "format": "int64"
                    }
                },
                "questionnaire_code": {
                    "type": "string"
                },
                "total_completions": {
                    "description": "总完成数（已解读）",
                    "type": "integer"
                },
                "total_submissions": {
                    "description": "基础统计",
                    "type": "integer"
                }
            }
        },
        "statistics.SystemStatistics": {
            "type": "object",
            "properties": {
                "answer_sheet_count": {
                    "description": "答卷总数",
                    "type": "integer"
                },
                "assessment_count": {
                    "description": "测评总数",
                    "type": "integer"
                },
                "assessment_status_distribution": {
                    "description": "状态分布",
                    "type": "object",
                    "additionalProperties": {
                        "type": "integer",
                        "format": "int64"
                    }
                },
                "assessment_trend": {
                    "description": "趋势数据（近30天）",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/statistics.DailyCount"
                    }
                },
                "org_id": {
                    "type": "integer"
                },
                "questionnaire_count": {
                    "description": "基础数量统计",
                    "type": "integer"
                },
                "testee_count": {
                    "description": "受试者总数",
                    "type": "integer"
                },
                "today_new_answer_sheets": {
                    "description": "今日新增答卷",
                    "type": "integer"
                },
                "today_new_assessments": {
                    "description": "今日新增（每日凌晨清零）",
                    "type": "integer"
                },
                "today_new_testees": {
                    "description": "今日新增受试者",
                    "type": "integer"
                }
            }
        },
        "statistics.TesteeStatistics": {
            "type": "object",
            "properties": {
                "completed_assessments": {
                    "description": "已完成测评数",
                    "type": "integer"
                },
                "first_assessment_date": {
                    "description": "首次测评日期",
                    "type": "string"
                },
                "last_assessment_date": {
                    "description": "时间维度",
                    "type": "string"
                },
                "org_id": {
                    "type": "integer"
                },
                "pending_assessments": {
                    "description": "待完成测评数",
                    "type": "integer"
                },
                "risk_distribution": {
                    "description": "风险分布",
                    "type": "object",
                    "additionalProperties": {
                        "type": "integer",
                        "format": "int64"
                    }
                },
                "testee_id": {
                    "type": "integer"
                },
                "total_assessments": {
                    "description": "测评统计",
                    "type": "integer"
                }
            }
        },
        "viewmodel.AnswerDTO": {
            "type": "object",
            "properties": {
                "question_code": {
                    "type": "string"
                },
                "question_type": {
                    "type": "string"
                },
                "score": {
                    "type": "number"
                },
                "value": {}
            }
        },
        "viewmodel.CalculationRuleDTO": {
            "type": "object",
            "properties": {
                "formula_type": {
                    "description": "公式类型",
                    "type": "string"
                }
            }
        },
        "viewmodel.OptionDTO": {
            "type": "object",
            "properties": {
                "code": {
                    "description": "选项ID，仅更新/编辑时提供",
                    "type": "string"
                },
                "content": {
                    "description": "选项内容",
                    "type": "string"
                },
                "score": {
                    "description": "选项分数（支持小数）",
                    "type": "number"
                }
            }
        },
        "viewmodel.QuestionDTO": {
            "type": "object",
            "properties": {
                "calculation_rule": {
                    "description": "问题算分规则（可选项，结构化题型）",
                    "allOf": [
                        {
                            "$ref": "#/definitions/viewmodel.CalculationRuleDTO"
                        }
                    ]
                },
                "code": {
                    "description": "问题ID，仅更新/编辑时提供",
                    "type": "string"
                },
                "options": {
                    "description": "问题选项（可选项，结构化题型）",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/viewmodel.OptionDTO"
                    }
                },
                "placeholder": {
                    "description": "特定属性",
                    "type": "string"
                },
                "question_type": {
                    "description": "问题题型：single_choice, multi_choice, text 等",
                    "type": "string"
                },
                "show_controller": {
                    "description": "显示控制器（可选项）",
                    "allOf": [
                        {
                            "$ref": "#/definitions/viewmodel.ShowControllerDTO"
                        }
                    ]
                },
                "stem": {
                    "description": "问题题干",
                    "type": "string"
                },
                "tips": {
                    "description": "问题提示",
                    "type": "string"
                },
                "validation_rules": {
                    "description": "能力属性",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/viewmodel.ValidationRuleDTO"
                    }
                }
            }
        },
        "viewmodel.ShowControllerConditionDTO": {
            "type": "object",
            "properties": {
                "code": {
                    "description": "问题编码",
                    "type": "string"
                },
                "select_option_codes": {
                    "description": "选中的选项编码列表",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "viewmodel.ShowControllerDTO": {
            "type": "object",
            "properties": {
                "questions": {
                    "description": "条件问题列表",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/viewmodel.ShowControllerConditionDTO"
                    }
                },
                "rule": {
                    "description": "逻辑规则：and 或 or",
                    "type": "string"
                }
            }
        },
        "viewmodel.ValidationRuleDTO": {
            "type": "object",
            "properties": {
                "rule_type": {
                    "description": "规则类型",
                    "type": "string"
                },
                "target_value": {
                    "description": "目标值",
                    "type": "string"
                }
            }
        }
    }
}